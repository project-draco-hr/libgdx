{
  dynamicsWorld.stepSimulation(Gdx.graphics.getDeltaTime(),5);
  camera.apply(Gdx.gl10);
  GL10 gl=Gdx.gl10;
  gl.glClear(GL10.GL_COLOR_BUFFER_BIT | GL10.GL_DEPTH_BUFFER_BIT);
  gl.glEnable(GL10.GL_DEPTH_TEST);
  gl.glDepthFunc(GL10.GL_LEQUAL);
  gl.glEnable(GL10.GL_COLOR_MATERIAL);
  gl.glEnable(GL10.GL_LIGHTING);
  gl.glEnable(GL10.GL_LIGHT0);
  gl.glLightfv(GL10.GL_LIGHT0,GL10.GL_AMBIENT,lightAmbient,0);
  gl.glLightfv(GL10.GL_LIGHT0,GL10.GL_POSITION,lightPosition,0);
  gl.glLightfv(GL10.GL_LIGHT0,GL10.GL_DIFFUSE,lightDiffuse,0);
  for (int i=0; i < entities.size; i++) {
    final Entity body=entities.get(i);
    gl.glPushMatrix();
    gl.glMultMatrixf(body.transform.val,0);
    body.mesh.render(GL10.GL_TRIANGLE_STRIP);
    gl.glPopMatrix();
  }
}
