{
  InputStream input=file.readFile();
  if (input == null)   throw new GdxRuntimeException("Effect file not found: " + file);
  emitters.clear();
  BufferedReader reader=null;
  try {
    reader=new BufferedReader(new InputStreamReader(input),512);
    while (true) {
      ParticleEmitter emitter=new ParticleEmitter(reader);
      reader.readLine();
      emitter.setImagePath(ParticleEmitter.readString(reader,"Image Path"));
      emitters.add(emitter);
      if (reader.readLine() == null)       break;
      if (reader.readLine() == null)       break;
    }
  }
 catch (  IOException ex) {
    throw new GdxRuntimeException("Error loading effect: " + file,ex);
  }
 finally {
    try {
      if (reader != null)       reader.close();
    }
 catch (    IOException ex) {
    }
  }
}
