{
  for (int i=0, n=snapshots.size; i < n; i++) {
    Snapshot snapshot=snapshots.get(i);
    Actor actor=snapshot.actor;
    boolean position=actor.getX() != snapshot.x || actor.getY() != snapshot.y;
    boolean size=actor.getWidth() != snapshot.width || actor.getHeight() != snapshot.height;
    boolean scale=actor.getScaleX() != snapshot.scaleX || actor.getScaleY() != snapshot.scaleY;
    boolean rotation=actor.getRotation() != snapshot.rotation;
    if (!position && !size && !scale&& !rotation)     continue;
    SequenceAction sequence=sequence();
    if (position) {
      sequence.addAction(moveBy(actor.getX() - snapshot.x,actor.getY() - snapshot.y,duration));
      actor.setPosition(snapshot.x,snapshot.y);
    }
    if (size) {
      sequence.addAction(sizeBy(actor.getWidth() - snapshot.width,actor.getHeight() - snapshot.height,duration));
      actor.setSize(snapshot.width,snapshot.height);
    }
    if (scale) {
      sequence.addAction(scaleBy(actor.getScaleX() - snapshot.scaleX,actor.getScaleY() - snapshot.scaleY,duration));
      actor.setScale(snapshot.scaleX,snapshot.scaleY);
    }
    if (rotation) {
      sequence.addAction(rotateBy(actor.getRotation() - snapshot.rotation,duration));
      actor.setRotation(snapshot.rotation);
    }
    Group parent=actor.getParent();
    if (parent instanceof Layout) {
      ((Layout)parent).setLayoutEnabled(false);
      sequence.addAction(add(parent,layout(true)));
    }
    actor.addAction(sequence);
  }
  snapshots.clear();
}
