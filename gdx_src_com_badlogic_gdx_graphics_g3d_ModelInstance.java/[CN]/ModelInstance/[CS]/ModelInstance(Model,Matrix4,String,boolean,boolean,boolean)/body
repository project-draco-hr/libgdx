{
  this.model=model;
  this.transform=transform == null ? new Matrix4() : transform;
  nodePartBones.clear();
  Node copy, node=model.getNode(nodeId,recursive);
  this.nodes.add(copy=copyNode(null,node));
  if (mergeTransform) {
    this.transform.mul(parentTransform ? node.globalTransform : node.localTransform);
    copy.translation.set(0,0,0);
    copy.rotation.idt();
    copy.scale.set(1,1,1);
  }
 else   if (parentTransform && copy.parent != null)   this.transform.mul(node.parent.globalTransform);
  setBones();
  copyAnimations(model.animations);
  calculateTransforms();
}
