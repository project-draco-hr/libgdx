{
  font=new BitmapFont();
  batch=new SpriteBatch();
  try {
    message="Testing InApp System:\n";
    if (PurchaseSystem.hasManager()) {
      message+=" - purchase manager: " + PurchaseSystem.storeName() + ".\n";
      PurchaseManagerConfig config=new PurchaseManagerConfig();
      config.addOffer(new Offer().setType(OfferType.ENTITLEMENT).setIdentifier("com.badlogic.gdx.tests.pay.entitlement01").putIdentifierForStore(PurchaseManagerConfig.STORE_NAME_GOOGLE,"android.test.purchased"));
      PurchaseSystem.install(new PurchaseObserver(){
        @Override public void handleRestore(        Transaction[] purchases){
        }
        @Override public void handleRestoreError(        Throwable e){
        }
        @Override public void handleInstall(){
          message+=" - purchase manager successfully installed.\n";
        }
        @Override public void handleInstallError(        Throwable e){
          message+=" - error installing purchase manager: " + e + "\n";
        }
      }
,config);
      xxx();
      PurchaseSystem.purchaseRestore();
      xxx();
      xxx();
      PurchaseSystem.dispose();
      xxx();
    }
 else {
      message+=" - no purchase manager found.\n";
    }
  }
 catch (  Throwable e) {
    throw new RuntimeException(e);
  }
}
