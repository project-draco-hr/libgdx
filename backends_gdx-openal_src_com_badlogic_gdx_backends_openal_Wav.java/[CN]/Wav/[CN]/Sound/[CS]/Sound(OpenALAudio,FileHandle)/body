{
  super(audio);
  WavInputStream input=new WavInputStream(file);
  ByteArrayOutputStream output=new ByteArrayOutputStream(4096);
  try {
    byte[] buffer=new byte[2048];
    while (input.dataLength > 0) {
      int length=input.read(buffer);
      if (length == -1)       break;
      length=Math.min(length,input.dataLength);
      input.dataLength-=length;
      output.write(buffer,0,length);
    }
  }
 catch (  IOException ex) {
    throw new GdxRuntimeException("Error reading WAV file: " + file,ex);
  }
  setup(output.toByteArray(),input.channels,input.sampleRate);
}
