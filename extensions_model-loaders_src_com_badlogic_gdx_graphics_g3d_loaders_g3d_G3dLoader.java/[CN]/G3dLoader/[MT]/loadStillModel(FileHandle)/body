{
  DataInputStream dis=new DataInputStream(new BufferedInputStream(file.read()));
  position=0;
  fileLength=0;
  short chunkUID;
  int chunkLength;
  if (readLong(dis) != G3D_HEADER)   return null;
 else   fileLength=readInt(dis);
  StillSubMesh subMesh;
  int activeSubMesh=0;
  while (position <= fileLength) {
    chunkUID=readShort(dis);
    chunkLength=readInt(dis);
switch (chunkUID) {
case VERSION_INFO:
      readVersionInfo(dis,chunkLength);
case STILL_MODEL:
    readStillModel(dis,chunkLength);
case STILL_SUBMESH:
  readStilLSumbesh(dis,chunkLength);
case VERTEX_LIST:
readVertexList(dis,chunkLength);
case VERTEX_ATTRIBUTES:
readVertexAttributes(dis,chunkLength);
case VERTEX_ATTRIBUTE:
readVertexAttribute(dis,chunkLength);
default :
skipChunk(dis,chunkLength);
}
}
return model;
}
