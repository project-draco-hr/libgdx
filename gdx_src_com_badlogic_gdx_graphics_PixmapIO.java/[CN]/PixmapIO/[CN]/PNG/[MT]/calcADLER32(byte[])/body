{
  int s1=1;
  int s2=0;
  for (int i=0; i < raw.length; i++) {
    final int abs=raw[i] >= 0 ? raw[i] : (raw[i] + 256);
    s1=(s1 + abs) % 65521;
    s2=(s2 + s1) % 65521;
  }
  return (s2 << 16) + s1;
}
