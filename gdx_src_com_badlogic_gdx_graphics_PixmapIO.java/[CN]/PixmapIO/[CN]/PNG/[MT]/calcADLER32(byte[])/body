{
  int s1=1;
  int s2=0;
  for (  byte abs : raw) {
    if (abs < 0)     abs+=256;
    s1=(s1 + abs) % 65521;
    s2=(s2 + s1) % 65521;
  }
  return (s2 << 16) + s1;
}
