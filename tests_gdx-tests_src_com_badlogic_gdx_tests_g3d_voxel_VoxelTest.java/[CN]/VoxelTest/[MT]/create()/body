{
  spriteBatch=new SpriteBatch();
  font=new BitmapFont();
  modelBatch=new ModelBatch();
  DefaultShader.defaultCullFace=GL20.GL_FRONT;
  camera=new PerspectiveCamera(67,Gdx.graphics.getWidth(),Gdx.graphics.getHeight());
  camera.near=1;
  camera.far=1000;
  controller=new FirstPersonCameraController(camera);
  Gdx.input.setInputProcessor(controller);
  lights=new Lights();
  lights.ambientLight.set(0.4f,0.4f,0.4f,1f);
  lights.add(new DirectionalLight().set(1,1,1,-0.7f,-0.8f,-0.2f));
  Texture texture=new Texture(Gdx.files.internal("data/g3d/tiles.png"));
  TextureRegion[][] tiles=TextureRegion.split(texture,32,32);
  MathUtils.random.setSeed(0);
  voxelWorld=new VoxelWorld(tiles[0],20,4,20);
  PerlinNoiseGenerator.generateVoxels(voxelWorld,0,63,3);
  float camX=voxelWorld.voxelsX / 2f;
  float camZ=voxelWorld.voxelsZ / 2f;
  float camY=voxelWorld.getHighest(camX,camZ);
  camera.position.set(camX,camY,camZ);
}
