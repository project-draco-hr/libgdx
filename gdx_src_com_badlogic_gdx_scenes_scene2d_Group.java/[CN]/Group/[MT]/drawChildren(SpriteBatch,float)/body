{
  parentAlpha*=color.a;
  if (cullingArea != null) {
    if (transform) {
      for (int i=0; i < children.size(); i++) {
        Actor child=children.get(i);
        if (!child.visible)         continue;
        if (child.x <= cullingArea.x + cullingArea.width && child.x + child.width >= cullingArea.x && child.y <= cullingArea.y + cullingArea.height && child.y + child.height >= cullingArea.y) {
          child.draw(batch,parentAlpha);
        }
      }
      batch.flush();
    }
 else {
      for (int i=0; i < children.size(); i++) {
        Actor child=children.get(i);
        if (!child.visible)         continue;
        if (child.x <= cullingArea.x + cullingArea.width && child.x + child.width >= cullingArea.x && child.y <= cullingArea.y + cullingArea.height && child.y + child.height >= cullingArea.y) {
          child.x+=x;
          child.y+=y;
          child.draw(batch,parentAlpha);
          child.x-=x;
          child.y-=y;
        }
      }
    }
  }
 else {
    if (transform) {
      for (int i=0; i < children.size(); i++) {
        Actor child=children.get(i);
        if (!child.visible)         continue;
        child.draw(batch,parentAlpha);
      }
      batch.flush();
    }
 else {
      for (int i=0; i < children.size(); i++) {
        Actor child=children.get(i);
        if (!child.visible)         continue;
        child.x+=x;
        child.y+=y;
        child.draw(batch,parentAlpha);
        child.x-=x;
        child.y-=y;
      }
    }
  }
}
