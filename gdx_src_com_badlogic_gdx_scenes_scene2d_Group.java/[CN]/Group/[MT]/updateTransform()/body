{
  transform.idt();
  if (refX != 0 || refY != 0)   transform.setToTranslation(refX,refY);
  if (scaleX != 1 || scaleY != 1)   transform.mul(scenetransform.setToScaling(scaleX,scaleY));
  if (rotation != 0)   transform.mul(scenetransform.setToRotation(rotation));
  if (refX != 0 || refY != 0)   transform.mul(scenetransform.setToTranslation(-refX,-refY));
  if (x != 0 || y != 0) {
    transform.getValues()[6]+=x;
    transform.getValues()[7]+=y;
  }
  if (parent != null) {
    scenetransform.set(parent.scenetransform);
    scenetransform.mul(transform);
  }
 else {
    scenetransform.set(transform);
  }
}
