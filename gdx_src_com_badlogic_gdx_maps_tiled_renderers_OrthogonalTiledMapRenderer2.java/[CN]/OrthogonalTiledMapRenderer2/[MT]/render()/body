{
  begin();
  if (cached) {
    spriteCache.draw(0);
  }
 else {
    for (    MapLayer layer : map.getLayers()) {
      if (layer.isVisible()) {
        if (layer instanceof TiledMapTileLayer) {
          renderTileLayer((TiledMapTileLayer)layer);
        }
 else {
          for (          MapObject object : layer.getObjects()) {
            renderObject(object);
          }
        }
      }
    }
  }
  end();
}
