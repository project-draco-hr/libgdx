{
  if (type == VertexDataType.VertexBufferObject) {
    vertices=new VertexBufferObject(isStatic,maxVertices,attributes);
    indices=new IndexBufferObject(isStatic,maxIndices);
    isVertexArray=false;
  }
 else   if (type == VertexDataType.VertexBufferObjectSubData) {
    vertices=new VertexBufferObjectSubData(isStatic,maxVertices,attributes);
    indices=new IndexBufferObjectSubData(isStatic,maxIndices);
    isVertexArray=false;
  }
 else {
    vertices=new VertexArray(maxVertices,attributes);
    indices=new IndexBufferObject(maxIndices);
    isVertexArray=true;
  }
  meshes.add(this);
}
