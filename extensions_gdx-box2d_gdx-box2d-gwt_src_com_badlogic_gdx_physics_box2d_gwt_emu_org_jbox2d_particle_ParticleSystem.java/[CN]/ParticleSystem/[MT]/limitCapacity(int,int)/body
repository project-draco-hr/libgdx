{
  return maxCount != 0 && capacity > maxCount ? maxCount : capacity;
}
