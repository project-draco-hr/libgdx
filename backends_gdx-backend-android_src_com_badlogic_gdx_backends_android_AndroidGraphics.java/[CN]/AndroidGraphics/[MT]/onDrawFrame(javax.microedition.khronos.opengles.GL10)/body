{
  long time=System.nanoTime();
  deltaTime=(time - lastFrameTime) / 1000000000.0f;
  lastFrameTime=time;
  mean.addValue(deltaTime);
synchronized (Gdx.input) {
synchronized (synch) {
      if (running) {
        app.listener.render();
      }
      if (pause) {
        app.listener.pause();
        pause=false;
      }
      if (resume) {
        app.listener.resume();
        resume=false;
        running=true;
      }
      if (destroy) {
        app.listener.dispose();
        destroy=false;
      }
    }
    Gdx.input.processEvents(null);
  }
  if (time - frameStart > 1000000000) {
    fps=frames;
    frames=0;
    frameStart=time;
  }
  frames++;
}
