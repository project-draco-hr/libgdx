{
  vertices=new ArrayList<Vector2>(polygon.size());
  vertices.addAll(polygon);
  vertexCount=vertices.size();
  if (!areVerticesClockwise()) {
    Collections.reverse(vertices);
  }
  vertexTypes=new int[vertexCount];
  concaveVertexCount=0;
  for (int i=0; i < vertexCount; ++i) {
    classifyVertex(i);
  }
  triangles=new ArrayList<Vector2>(3 * Math.max(0,vertexCount - 2));
  while (vertexCount > 3) {
    int earTipIndex=findEarTip();
    cutEarTip(earTipIndex);
    classifyVertex(computePreviousIndex(earTipIndex));
    classifyVertex(earTipIndex);
  }
  if (vertexCount == 3) {
    triangles.addAll(vertices);
  }
  List<Vector2> result=triangles;
  vertices=null;
  triangles=null;
  vertexTypes=null;
  return result;
}
