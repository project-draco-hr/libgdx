{
  if (httpRequest.getUrl() == null) {
    httpResultListener.failed(new GdxRuntimeException("can't process a HTTP request without URL set"));
    return;
  }
  final boolean is_get=(httpRequest.getMethod() == HttpMethods.GET);
  final String value=httpRequest.getContent();
  RequestBuilder builder;
  String url=httpRequest.getUrl();
  if (is_get) {
    if (value != null) {
      url+="?" + value;
    }
    builder=new RequestBuilder(RequestBuilder.GET,url);
  }
 else {
    builder=new RequestBuilder(RequestBuilder.POST,url);
  }
  Map<String,String> content=httpRequest.getHeaders();
  Set<String> keySet=content.keySet();
  for (  String name : keySet) {
    builder.setHeader(name,content.get(name));
  }
  builder.setTimeoutMillis(httpRequest.getTimeOut());
  try {
    Request request=builder.sendRequest(is_get ? null : value,new RequestCallback(){
      @Override public void onResponseReceived(      Request request,      Response response){
        httpResultListener.handleHttpResponse(new HttpClientResponse(response));
        requests.remove(httpRequest);
        listeners.remove(httpRequest);
      }
      @Override public void onError(      Request request,      Throwable exception){
        httpResultListener.failed(exception);
        requests.remove(httpRequest);
        listeners.remove(httpRequest);
      }
    }
);
    requests.put(httpRequest,request);
    listeners.put(httpRequest,httpResultListener);
  }
 catch (  RequestException e) {
    httpResultListener.failed(e);
  }
}
