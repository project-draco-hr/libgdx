{
  assert(buffer != this.buffer);
  try {
    do {
      int read=inflater.inflate(buffer,offset,length);
      if (read <= 0) {
        if (inflater.finished()) {
          throw new EOFException();
        }
        if (inflater.needsInput()) {
          refillInflater(inflater);
        }
 else {
          throw new IOException("Can't inflate " + length + " bytes");
        }
      }
 else {
        offset+=read;
        length-=read;
      }
    }
 while (length > 0);
  }
 catch (  DataFormatException ex) {
    throw (IOException)(new IOException("inflate error").initCause(ex));
  }
}
