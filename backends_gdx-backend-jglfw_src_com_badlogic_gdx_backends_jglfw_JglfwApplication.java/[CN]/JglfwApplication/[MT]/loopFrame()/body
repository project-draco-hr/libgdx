{
  if (glfwWindowShouldClose(graphics.window)) {
    exit();
    return;
  }
synchronized (runnables) {
    executedRunnables.clear();
    executedRunnables.addAll(runnables);
    runnables.clear();
  }
  if (executedRunnables.size > 0) {
    for (int i=0; i < executedRunnables.size; i++)     executedRunnables.get(i).run();
    if (!running)     return;
    graphics.requestRendering();
  }
  input.update();
  if (graphics.shouldRender())   renderFrame();
 else {
    try {
      Thread.sleep(16);
    }
 catch (    InterruptedException ignored) {
    }
  }
}
