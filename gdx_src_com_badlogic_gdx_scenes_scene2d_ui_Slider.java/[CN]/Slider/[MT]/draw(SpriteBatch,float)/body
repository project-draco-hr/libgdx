{
  final Drawable knob=style.knob;
  final Drawable bg=style.background;
  final Drawable knobBefore=style.knobBefore;
  final Drawable knobAfter=style.knobAfter;
  Color color=getColor();
  float x=getX();
  float y=getY();
  float width=getWidth();
  float height=getHeight();
  batch.setColor(color.r,color.g,color.b,color.a * parentAlpha);
  if (vertical) {
    bg.draw(batch,x + (int)((width - bg.getMinWidth()) * 0.5f),y,bg.getMinWidth(),height);
    float sliderPosHeight=height - (bg.getTopHeight() + bg.getBottomHeight());
    sliderPos=(value - min) / (max - min) * (sliderPosHeight - knob.getMinHeight());
    sliderPos=Math.max(0,sliderPos);
    sliderPos=Math.min(sliderPosHeight - knob.getMinHeight(),sliderPos) + bg.getBottomHeight();
    float knobHeightHalf=knob.getMinHeight() * 0.5f;
    if (knobBefore != null) {
      knobBefore.draw(batch,x + (int)((width - knobBefore.getMinWidth()) * 0.5f),y,knobBefore.getMinWidth(),(int)(sliderPos + knobHeightHalf));
    }
    if (knobAfter != null) {
      knobAfter.draw(batch,x + (int)((width - knobAfter.getMinWidth()) * 0.5f),y + (int)(sliderPos + knobHeightHalf),knobAfter.getMinWidth(),height - (int)(sliderPos + knobHeightHalf));
    }
    knob.draw(batch,x + (int)((width - knob.getMinWidth()) * 0.5f),(int)(y + sliderPos),knob.getMinWidth(),knob.getMinHeight());
  }
 else {
    bg.draw(batch,x,y + (int)((height - bg.getMinHeight()) * 0.5f),width,bg.getMinHeight());
    float sliderPosWidth=width - (bg.getLeftWidth() + bg.getRightWidth());
    sliderPos=(value - min) / (max - min) * (sliderPosWidth - knob.getMinWidth());
    sliderPos=Math.max(0,sliderPos);
    sliderPos=Math.min(sliderPosWidth - knob.getMinWidth(),sliderPos) + bg.getLeftWidth();
    float knobHeightHalf=knob.getMinHeight() * 0.5f;
    if (knobBefore != null) {
      knobBefore.draw(batch,x,y + (int)((height - knobBefore.getMinHeight()) * 0.5f),(int)(sliderPos + knobHeightHalf),knobBefore.getMinHeight());
    }
    if (knobAfter != null) {
      knobAfter.draw(batch,x + (int)(sliderPos + knobHeightHalf),y + (int)((height - knobAfter.getMinHeight()) * 0.5f),width - (int)(sliderPos + knobHeightHalf),knobAfter.getMinHeight());
    }
    knob.draw(batch,(int)(x + sliderPos),(int)(y + (height - knob.getMinHeight()) * 0.5f),knob.getMinWidth(),knob.getMinHeight());
  }
}
