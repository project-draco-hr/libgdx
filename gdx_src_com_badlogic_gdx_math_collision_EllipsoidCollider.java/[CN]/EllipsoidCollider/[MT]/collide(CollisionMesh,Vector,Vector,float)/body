{
  boolean collided=false;
  int iterations=0;
  while (true) {
    packet.set(position,velocity);
    CollisionDetection.collide(mesh,packet);
    if (packet.isColliding() && iterations < 20) {
      collided=true;
      response.respond(packet,displacementDistance);
      if (velocity.len() < displacementDistance)       break;
      position.set(packet.position).scale(packet.radiusX,packet.radiusY,packet.radiusZ);
      velocity.set(packet.velocity).scale(packet.radiusX,packet.radiusY,packet.radiusZ);
    }
 else {
      position.add(velocity);
      break;
    }
    iterations++;
  }
  return collided;
}
