{
  JoglNativesLoader.load();
  graphics=new JoglGraphics(listener,title,width,height,useGL20);
  input=new JoglInput(graphics.getCanvas());
  audio=new OpenALAudio();
  files=new JoglFiles();
  Gdx.app=JoglApplication.this;
  Gdx.graphics=JoglApplication.this.getGraphics();
  Gdx.input=JoglApplication.this.getInput();
  Gdx.audio=JoglApplication.this.getAudio();
  Gdx.files=JoglApplication.this.getFiles();
  frame=new JFrame(title);
  graphics.getCanvas().setPreferredSize(new Dimension(width,height));
  frame.setSize(width + frame.getInsets().left + frame.getInsets().right,frame.getInsets().top + frame.getInsets().bottom + height);
  frame.add(graphics.getCanvas(),BorderLayout.CENTER);
  frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
  frame.setLocationRelativeTo(null);
  frame.addWindowListener(new WindowAdapter(){
    @Override public void windowOpened(    WindowEvent arg0){
      graphics.getCanvas().requestFocus();
      graphics.getCanvas().requestFocusInWindow();
    }
    @Override public void windowIconified(    WindowEvent arg0){
    }
    @Override public void windowDeiconified(    WindowEvent arg0){
    }
    @Override public void windowClosing(    WindowEvent arg0){
      graphics.pause();
      graphics.destroy();
      audio.dispose();
      frame.remove(graphics.getCanvas());
    }
  }
);
  frame.pack();
  frame.setVisible(true);
  graphics.create();
}
