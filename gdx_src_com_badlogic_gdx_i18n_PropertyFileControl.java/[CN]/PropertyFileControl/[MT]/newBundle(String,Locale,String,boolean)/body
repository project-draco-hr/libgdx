{
  if (baseName == null || locale == null || format == null)   throw new NullPointerException();
  ResourceBundle bundle=null;
  String suffix=getSuffix(format);
  if (suffix != null) {
    String bundleName=toBundleName(baseName,locale);
    String resourceName=toResourceName(bundleName,suffix);
    FileHandle fileHandle=Gdx.files.getFileHandle(resourceName,fileType);
    if (fileHandle.exists()) {
      InputStream stream=null;
      try {
        stream=fileHandle.read();
        if (suffix == SUFFIX_PROPERTIES)         bundle=new PropertyResourceBundle(new InputStreamReader(stream,encoding));
 else         bundle=new PropertyResourceBundle(stream,true);
      }
  finally {
        StreamUtils.closeQuietly(stream);
      }
    }
  }
  return bundle;
}
