{
  if (!drawing)   throw new IllegalStateException("SpriteBatch.begin must be called before draw.");
  if (texture != lastTexture) {
    switchTexture(texture);
  }
  int remainingVertices=vertices.length - idx;
  if (remainingVertices == 0) {
    renderMesh();
    remainingVertices=vertices.length;
  }
  int copyCount=Math.min(remainingVertices,count);
  System.arraycopy(spriteVertices,offset,vertices,idx,copyCount);
  idx+=copyCount;
  count-=copyCount;
  while (count > 0) {
    offset+=copyCount;
    renderMesh();
    copyCount=Math.min(vertices.length,count);
    System.arraycopy(spriteVertices,offset,vertices,0,copyCount);
    idx+=copyCount;
    count-=copyCount;
  }
}
