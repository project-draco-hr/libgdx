{
  try {
    graphics=new GwtGraphics(root,config);
  }
 catch (  Throwable e) {
    root.clear();
    root.add(new Label("Sorry, your browser doesn't seem to support WebGL"));
    return;
  }
  lastWidth=graphics.getWidth();
  lastHeight=graphics.getHeight();
  Gdx.app=this;
  Gdx.graphics=graphics;
  Gdx.gl20=graphics.getGL20();
  Gdx.gl=graphics.getGLCommon();
  Gdx.files=new GwtFiles(preloader);
  Gdx.input=new GwtInput(graphics.canvas);
  Gdx.audio=new GwtAudio();
  try {
    listener.create();
    listener.resize(graphics.getWidth(),graphics.getHeight());
  }
 catch (  Throwable t) {
    t.printStackTrace();
    System.out.println(t.getMessage());
  }
  new Timer(){
    @Override public void run(){
      try {
        graphics.update();
        if (Gdx.graphics.getWidth() != lastWidth || Gdx.graphics.getHeight() != lastHeight) {
          GwtApplication.this.listener.resize(Gdx.graphics.getWidth(),Gdx.graphics.getHeight());
          lastWidth=graphics.getWidth();
          lastHeight=graphics.getHeight();
        }
        for (int i=0; i < runnables.size; i++) {
          runnables.get(i).run();
        }
        runnables.clear();
        listener.render();
        ((GwtInput)Gdx.input).justTouched=false;
      }
 catch (      Throwable t) {
        t.printStackTrace();
      }
    }
  }
.scheduleRepeating((int)((1f / config.fps) * 1000));
}
