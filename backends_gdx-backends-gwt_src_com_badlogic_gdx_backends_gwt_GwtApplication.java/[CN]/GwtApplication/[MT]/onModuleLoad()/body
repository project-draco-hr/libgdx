{
  this.listener=getApplicationListener();
  this.config=getConfig();
  this.root=config.rootPanel != null ? config.rootPanel : RootPanel.get();
  graphics=new GwtGraphics(root,config);
  lastWidth=graphics.getWidth();
  lastHeight=graphics.getHeight();
  Gdx.app=this;
  Gdx.graphics=graphics;
  Gdx.gl20=graphics.getGL20();
  Gdx.gl=graphics.getGLCommon();
  preloader=new Preloader();
  preloader.preload("assets.txt",new PreloaderCallback(){
    @Override public void loaded(    String file,    int loaded,    int total){
      System.out.println("loaded " + file + ","+ loaded+ ","+ total);
    }
    @Override public void error(    String file){
      System.out.println("error: " + file);
    }
    @Override public void done(){
      setupLoop();
    }
  }
);
}
