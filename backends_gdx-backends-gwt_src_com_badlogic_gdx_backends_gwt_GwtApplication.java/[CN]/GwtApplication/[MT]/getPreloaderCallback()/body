{
  final Panel preloaderPanel=new VerticalPanel();
  preloaderPanel.setStyleName("gdx-preloader");
  final Image logo=new Image(GWT.getModuleBaseURL() + "logo.png");
  logo.setStyleName("logo");
  preloaderPanel.add(logo);
  final Panel meterPanel=new SimplePanel();
  meterPanel.setStyleName("gdx-meter");
  meterPanel.addStyleName("red");
  final InlineHTML meter=new InlineHTML();
  final Style meterStyle=meter.getElement().getStyle();
  meterStyle.setWidth(0,Unit.PCT);
  meterPanel.add(meter);
  preloaderPanel.add(meterPanel);
  getRootPanel().add(preloaderPanel);
  return new PreloaderCallback(){
    @Override public void done(){
      meter.getElement().getStyle().setWidth(100,Unit.PCT);
    }
    @Override public void loaded(    String file,    int loaded,    int total){
      System.out.println("loaded " + file + ","+ loaded+ "/"+ total);
      float percent=(float)loaded / (float)total * 100;
      meterStyle.setWidth(percent,Unit.PCT);
    }
    @Override public void error(    String file){
      System.out.println("error: " + file);
    }
  }
;
}
