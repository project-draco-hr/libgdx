{
  String headerFileContent=hFile.readString();
  Array<JavaMethod> javaMethods=parseJavaMethods(javaFileContent);
  Array<CMethod> cMethods=parseCMethods(headerFileContent);
  StringBuffer buffer=new StringBuffer();
  buffer.append("#include <" + hFile.name() + ">\n\n");
  int index=javaFileContent.indexOf(JAVA_JNI_MARKER,0);
  while (index != -1) {
    int endIndex=javaFileContent.indexOf("*/",index);
    if (endIndex == -1)     break;
    String jniSection=javaFileContent.substring(index + JAVA_JNI_MARKER.length(),endIndex);
    buffer.append(jniSection);
    index=javaFileContent.indexOf(JAVA_JNI_MARKER,endIndex);
  }
  for (int i=0; i < javaMethods.size; i++) {
    mergeJavaAndCMethod(buffer,javaMethods.get(i),cMethods.get(i));
    buffer.append("\n\n");
  }
  System.out.println(buffer.toString());
  cppFile.writeString(buffer.toString(),false);
}
