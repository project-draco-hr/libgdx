{
  int start=0;
  int width=0;
  while (start < str.length()) {
    int lineEnd=indexOf(str,'\n',start);
    int lineWidth=computeTextWidth(str,start,lineEnd);
    width=Math.max(width,lineWidth);
    start=lineEnd + 1;
  }
  return width;
}
