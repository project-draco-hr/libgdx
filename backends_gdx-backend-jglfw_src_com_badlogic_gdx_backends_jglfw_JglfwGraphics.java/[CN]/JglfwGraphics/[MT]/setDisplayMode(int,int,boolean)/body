{
  if (window == 0 || fullscreen != config.fullscreen) {
    long fullscreenMonitor=0;
    long[] monitors=glfwGetMonitors();
    if (monitors.length > 0)     fullscreenMonitor=fullscreenMonitorIndex < monitors.length ? monitors[fullscreenMonitorIndex] : 0;
    glfwWindowHint(GLFW_RESIZABLE,config.resizable ? 1 : 0);
    glfwWindowHint(GLFW_RED_BITS,config.r);
    glfwWindowHint(GLFW_GREEN_BITS,config.g);
    glfwWindowHint(GLFW_BLUE_BITS,config.b);
    glfwWindowHint(GLFW_ALPHA_BITS,config.a);
    glfwWindowHint(GLFW_DEPTH_BITS,config.depth);
    glfwWindowHint(GLFW_STENCIL_BITS,config.stencil);
    glfwWindowHint(GLFW_SAMPLES,config.samples);
    glfwWindowHint(GLFW_DEPTH_BITS,config.bitsPerPixel);
    long window=glfwCreateWindow(config.width,config.height,config.title,0,this.window);
    if (window == 0)     return false;
    if (this.window != 0)     glfwDestroyWindow(window);
    glfwMakeContextCurrent(window);
    this.window=window;
    return true;
  }
  glfwSetWindowSize(window,width,height);
  return true;
}
