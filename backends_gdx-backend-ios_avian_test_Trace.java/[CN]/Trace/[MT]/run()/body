{
synchronized (this) {
    notifyAll();
  }
  try {
    for (int i=0; i < 10000; ++i) {
      test(this);
      if (i % 100 == 0) {
        System.out.print("r");
        System.out.flush();
synchronized (this) {
          notifyAll();
        }
      }
    }
  }
  finally {
synchronized (this) {
      alive=false;
      notifyAll();
    }
  }
}
