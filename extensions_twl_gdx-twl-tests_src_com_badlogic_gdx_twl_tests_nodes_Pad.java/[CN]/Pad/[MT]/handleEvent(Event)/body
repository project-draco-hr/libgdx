{
  if (evt.isMouseEvent()) {
    getAnimationState().setAnimationState(STATE_HOVER,evt.getType() != Event.Type.MOUSE_EXITED);
  }
  if (evt.getType() == Event.Type.MOUSE_DRAGGED) {
    NodeArea nodeArea=node.getNodeArea();
    if (!isDragActive) {
      isDragActive=true;
      if (isInput()) {
        nodeArea.removeConnection(getInConnection());
      }
    }
    nodeArea.dragNewConnection(this,evt.getMouseX(),evt.getMouseY());
    Pad pad=nodeArea.padFromMouse(evt.getMouseX(),evt.getMouseY());
    setDragDestPad(pad);
  }
  if (isDragActive && evt.isMouseDragEnd()) {
    NodeArea nodeArea=node.getNodeArea();
    if (dragDestinationPad != null) {
      if (isInput()) {
        nodeArea.addConnection(dragDestinationPad,this);
      }
 else {
        nodeArea.addConnection(this,dragDestinationPad);
      }
    }
    setDragDestPad(null);
    nodeArea.dragNewConnection(null,0,0);
    isDragActive=false;
  }
  return evt.isMouseEventNoWheel();
}
