{
  char c=0;
  for (int i=0; i < 4; ++i) {
    int digit=Character.digit((char)readCharacter(),16);
    if (digit == -1)     throw new IOException("Invalid Unicode escape encountered.");
    c<<=4;
    c|=digit;
  }
  return c;
}
