{
  boolean isValid=button == Buttons.LEFT && (!Gdx.input.isKeyPressed(Keys.SHIFT_LEFT) && !Gdx.input.isKeyPressed(Keys.SHIFT_RIGHT)) && (Gdx.input.isKeyPressed(Keys.CONTROL_LEFT) || Gdx.input.isKeyPressed(Keys.CONTROL_RIGHT));
  if (!isValid)   return false;
  isActive=true;
  if (!AppContext.instance().isCurrentModelValid())   return true;
  ShapeModel lastShape=AppContext.instance().getLastTempShape();
  if (lastShape == null || lastShape.isClosed()) {
    AppContext.instance().createNewTempShape();
    lastShape=AppContext.instance().getLastTempShape();
  }
  if (lastShape.getPointCount() >= 3 && AppContext.instance().nearestPoint == lastShape.getPoint(0)) {
    lastShape.close();
    AppContext.instance().saveCurrentModel();
  }
 else {
    Vector2 p=App.instance().screenToWorld(x,y);
    lastShape.addPoint(p);
  }
  return true;
}
