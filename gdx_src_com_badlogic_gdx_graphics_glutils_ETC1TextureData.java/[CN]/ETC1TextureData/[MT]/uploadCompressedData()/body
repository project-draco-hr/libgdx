{
  ETC1Data data=new ETC1Data(file);
  width=data.width;
  height=data.height;
  if (Gdx.app.getType() == ApplicationType.Desktop || Gdx.graphics.isGL20Available() == false) {
    Pixmap pixmap=ETC1.decodeImage(data,Format.RGB565);
    Gdx.gl.glTexImage2D(GL10.GL_TEXTURE_2D,0,pixmap.getGLInternalFormat(),pixmap.getWidth(),pixmap.getHeight(),0,pixmap.getGLFormat(),pixmap.getGLType(),pixmap.getPixels());
    if (useMipMaps)     MipMapGenerator.generateMipMap(pixmap,pixmap.getWidth(),pixmap.getHeight(),false);
    pixmap.dispose();
    useMipMaps=false;
  }
 else {
    Gdx.gl.glCompressedTexImage2D(GL10.GL_TEXTURE_2D,0,ETC1.ETC1_RGB8_OES,width,height,0,data.compressedData.capacity() - data.dataOffset,data.compressedData);
    if (useMipMaps())     Gdx.gl20.glGenerateMipmap(GL20.GL_TEXTURE_2D);
  }
  data.dispose();
}
