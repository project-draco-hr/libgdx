{
  if (flingTimer > 0) {
    float alpha=flingTimer / flingTime;
    alpha=alpha * alpha * alpha;
    amountX-=velocityX * alpha * delta;
    amountY+=velocityY * alpha * delta;
    clamp();
    if (amountX == -bounceDistance)     velocityX=0;
    if (amountX >= maxX + bounceDistance)     velocityX=0;
    if (amountY == -bounceDistance)     velocityY=0;
    if (amountY >= maxY + bounceDistance)     velocityY=0;
    flingTimer-=delta;
  }
  if (bounces && !gestureDetector.isPanning()) {
    if (amountX < 0) {
      float overscrollPercent=-amountX / bounceDistance;
      float bouncePixels=bounceSpeedMin + (bounceSpeedMax - bounceSpeedMin) * overscrollPercent;
      amountX+=bouncePixels * delta;
      if (amountX > 0)       amountX=0;
    }
 else     if (amountX > maxX) {
      float overscrollPercent=-(maxX - amountX) / bounceDistance;
      float bouncePixels=bounceSpeedMin + (bounceSpeedMax - bounceSpeedMin) * overscrollPercent;
      amountX-=bouncePixels * delta;
      if (amountX < maxX)       amountX=maxX;
    }
    if (amountY < 0) {
      float overscrollPercent=-amountY / bounceDistance;
      float bouncePixels=bounceSpeedMin + (bounceSpeedMax - bounceSpeedMin) * overscrollPercent;
      amountY+=bouncePixels * delta;
      if (amountY > 0)       amountY=0;
    }
 else     if (amountY > maxY) {
      float overscrollPercent=-(maxY - amountY) / bounceDistance;
      float bouncePixels=bounceSpeedMin + (bounceSpeedMax - bounceSpeedMin) * overscrollPercent;
      amountY-=bouncePixels * delta;
      if (amountY < maxY)       amountY=maxY;
    }
  }
}
