{
  try {
    for (int i=0; i < LocalStorage.length(); i++) {
      String key=LocalStorage.key(i);
      if (key.startsWith(prefix))       LocalStorage.removeItem(key);
    }
    for (    String key : values.keys()) {
      String storageKey=toStorageKey(key,values.get(key));
      String storageValue="" + values.get(key).toString();
      LocalStorage.setItem(storageKey,storageValue);
    }
  }
 catch (  Exception e) {
    throw new GdxRuntimeException("Couldn't flush preferences");
  }
}
