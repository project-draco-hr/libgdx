{
  FileDescriptor[] files=dir.list();
  for (  FileDescriptor file : files) {
    if (file.isDirectory() && !file.path().contains(".svn")) {
      processDirectory(file);
    }
 else {
      if (file.extension().equals("java") && !file.name().contains("NativeCodeGenerator")) {
        String javaContent=file.readString();
        if (javaContent.contains(JAVA_METHOD_MARKER)) {
          generateHFile(file);
          String className=getFullyQualifiedClassName(file);
          FileDescriptor hFile=new FileDescriptor(jniDir.path() + "/" + className+ ".h");
          FileDescriptor cppFile=new FileDescriptor(jniDir + "/" + className+ ".cpp");
          generateCppFile(javaContent,hFile,cppFile);
        }
      }
    }
  }
}
