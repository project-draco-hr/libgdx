{
  if (!drawing)   throw new IllegalStateException("begin must be called before end.");
  drawing=false;
  if (Gdx.graphics.isGL20Available() == false) {
    GL10 gl=Gdx.gl10;
    gl.glDepthMask(true);
    gl.glDisable(GL10.GL_TEXTURE_2D);
    mesh.unbind();
  }
 else {
    shader.end();
    GL20 gl=Gdx.gl20;
    gl.glDepthMask(true);
    mesh.unbind(shader);
  }
}
