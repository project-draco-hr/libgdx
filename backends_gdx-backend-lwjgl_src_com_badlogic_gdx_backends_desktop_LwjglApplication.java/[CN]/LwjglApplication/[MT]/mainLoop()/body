{
  try {
    graphics.setupDisplay();
  }
 catch (  LWJGLException e) {
    throw new GdxRuntimeException(e);
  }
  Keyboard.enableRepeatEvents(true);
  listener.create();
  listener.resize(graphics.getWidth(),graphics.getHeight());
  int lastWidth=graphics.getWidth();
  int lastHeight=graphics.getHeight();
  graphics.lastTime=System.nanoTime();
  while (running && !Display.isCloseRequested()) {
    graphics.updateTime();
    input.update();
    int width, height;
    if (graphics.canvas != null) {
      width=graphics.canvas.getWidth();
      height=graphics.canvas.getHeight();
    }
 else {
      width=graphics.getWidth();
      height=graphics.getHeight();
    }
    if (lastWidth != width || lastHeight != height) {
      lastWidth=width;
      lastHeight=height;
      listener.resize(lastWidth,lastHeight);
    }
    listener.render();
    input.processEvents(null);
    Display.update();
    Display.sync(60);
  }
  listener.pause();
  listener.dispose();
  Display.destroy();
}
