{
  if (event.getTargetActor() == null)   throw new IllegalArgumentException("The event target cannot be null.");
  if (capture) {
    DelayedRemovalArray<EventListener> listeners=captureListeners;
    if (listeners.size == 0)     return;
    event.capture=true;
    DelayedRemovalArray<Actor> actors=captureActors;
    listeners.begin();
    for (int i=0, n=listeners.size; i < n; i++) {
      Actor actor=actors.get(i);
      event.setContextActor(actor != null ? actor : this);
      listeners.get(i).handle(event);
    }
    listeners.end();
  }
 else {
    DelayedRemovalArray<EventListener> listeners=this.listeners;
    if (listeners.size == 0)     return;
    event.setContextActor(this);
    event.capture=false;
    listeners.begin();
    for (int i=0, n=listeners.size; i < n; i++)     listeners.get(i).handle(event);
    listeners.end();
  }
}
