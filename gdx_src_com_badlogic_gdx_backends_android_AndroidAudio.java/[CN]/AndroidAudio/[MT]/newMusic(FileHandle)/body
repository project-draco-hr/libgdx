{
  AndroidFileHandle aHandle=(AndroidFileHandle)file;
  MediaPlayer mediaPlayer=new MediaPlayer();
  if (aHandle.isAsset()) {
    try {
      AssetFileDescriptor descriptor=aHandle.getAssetManager().openFd(aHandle.getFileName());
      mediaPlayer.setDataSource(descriptor.getFileDescriptor(),descriptor.getStartOffset(),descriptor.getLength());
      descriptor.close();
      mediaPlayer.prepare();
      AndroidMusic music=new AndroidMusic(this,mediaPlayer);
      musics.add(music);
      return music;
    }
 catch (    Exception ex) {
      ex.printStackTrace();
      return null;
    }
  }
 else {
    try {
      mediaPlayer.setDataSource(aHandle.getFileName());
      mediaPlayer.prepare();
      AndroidMusic music=new AndroidMusic(this,mediaPlayer);
      musics.add(music);
      return music;
    }
 catch (    Exception ex) {
      ex.printStackTrace();
      return null;
    }
  }
}
