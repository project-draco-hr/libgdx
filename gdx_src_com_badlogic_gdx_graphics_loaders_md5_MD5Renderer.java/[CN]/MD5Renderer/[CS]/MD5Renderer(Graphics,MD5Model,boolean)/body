{
  int maxVertices=0;
  int maxIndices=0;
  this.g=g;
  this.model=model;
  indices=new short[model.meshes.length][];
  vertices=new float[model.meshes.length][];
  for (int i=0; i < model.meshes.length; i++) {
    if (maxVertices < model.meshes[i].numVertices)     maxVertices=model.meshes[i].numVertices;
    if (maxIndices < model.meshes[i].numTriangles * 3)     maxIndices=model.meshes[i].numTriangles * 3;
    indices[i]=model.meshes[i].getIndices();
    vertices[i]=model.meshes[i].createVertexArray();
  }
  mesh=new Mesh(g,managed,false,false,maxVertices,maxIndices,new VertexAttribute(VertexAttributes.Usage.Position,3,"a_position"),new VertexAttribute(VertexAttributes.Usage.TextureCoordinates,2,"a_texCoords"));
}
