{
  prepareCamera(camera);
  bb1.inf();
  for (  ModelInstance instance : instances) {
    for (    Node node : instance.nodes) {
      if (cachedBoundingBoxes.containsKey(node)) {
        bb2.set(cachedBoundingBoxes.get(node));
      }
 else {
        node.calculateBoundingBox(bb2);
        cachedBoundingBoxes.put(node,new BoundingBox(bb2));
      }
      if (bb2.contains(camera.position)) {
      }
 else       if (camera.frustum.boundsInFrustum(bb2)) {
        node.extendBoundingBox(bb1);
      }
    }
  }
  computeResult(bb1,camera);
}
