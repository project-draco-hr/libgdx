{
  float ySpacing=this.ySpacing;
  for (int i=0, n=nodes.size; i < n; i++) {
    Node node=nodes.get(i);
    float rowWidth=indent + iconSpacing;
    Actor actor=node.rightActor;
    if (actor instanceof Layout) {
      Layout layout=(Layout)actor;
      rowWidth+=layout.getPrefWidth();
      node.height=layout.getPrefHeight();
      layout.pack();
    }
 else {
      rowWidth+=actor.getWidth();
      node.height=actor.getHeight();
    }
    if (node.icon != null) {
      rowWidth+=iconSpacing * 2 + node.icon.getMinWidth();
      node.height=Math.max(node.height,node.icon.getMinHeight());
    }
    actor=node.leftActor;
    if (actor instanceof Layout) {
      Layout layout=(Layout)actor;
      leftColumnWidth=Math.max(leftColumnWidth,layout.getPrefWidth() + iconSpacing);
      node.height=Math.max(node.height,layout.getPrefHeight());
      layout.pack();
    }
 else     if (actor != null) {
      leftColumnWidth=Math.max(leftColumnWidth,actor.getWidth() + iconSpacing);
      node.height=Math.max(node.height,actor.getHeight());
    }
    prefWidth=Math.max(prefWidth,rowWidth);
    prefHeight-=node.height + ySpacing;
    if (node.expanded)     computeSize(node.children,indent + indentSpacing);
  }
}
