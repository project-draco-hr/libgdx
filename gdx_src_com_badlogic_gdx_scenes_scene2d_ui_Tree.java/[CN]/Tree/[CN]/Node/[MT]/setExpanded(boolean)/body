{
  if (expanded == this.expanded || children == null || children.size == 0)   return;
  this.expanded=expanded;
  Group parent=actor.getParent();
  if (!(parent instanceof Tree))   return;
  Tree tree=(Tree)parent;
  if (expanded) {
    for (int i=0, n=children.size; i < n; i++)     children.get(i).addToTree(tree);
  }
 else {
    for (int i=0, n=children.size; i < n; i++)     children.get(i).removeFromTree(tree);
  }
  tree.invalidateHierarchy();
}
