{
  FileHandle externalFile=Gdx.files.external("tmp/test.mp3");
  Gdx.files.internal(FILE).copyTo(externalFile);
  decoder=new Mpg123Decoder(externalFile);
  Gdx.app.log("Mp3","channels: " + decoder.getChannels() + ", rate: "+ decoder.getRate()+ ", length: "+ decoder.getLength());
  device=Gdx.audio.newAudioDevice(decoder.getRate(),decoder.getChannels() == 1 ? true : false);
  Thread playbackThread=new Thread(new Runnable(){
    @Override public void run(){
      int readSamples=0;
      short[] samples=new short[2048];
      while ((readSamples=decoder.readSamples(samples,0,samples.length)) > 0) {
        device.writeSamples(samples,0,readSamples);
      }
    }
  }
);
  playbackThread.setDaemon(true);
  playbackThread.start();
}
