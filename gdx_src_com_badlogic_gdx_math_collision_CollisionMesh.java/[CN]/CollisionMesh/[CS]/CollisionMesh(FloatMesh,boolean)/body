{
  if (mesh.hasIndices() && mesh.getNumIndices() % 3 != 0)   throw new IllegalArgumentException("Mesh must hold triangles");
  if (mesh.hasIndices() == false && mesh.getNumVertices() % 3 != 0)   throw new IllegalArgumentException("Mesh must hold triangles");
  if (mesh.getCoordsSize() != 3)   throw new IllegalArgumentException("Vertex coordinates must be three dimensional");
  numTriangles=mesh.hasIndices() ? mesh.getNumIndices() / 3 : mesh.getNumVertices() / 3;
  triangles=new float[3 * 3 * numTriangles];
  planes=new float[4 * numTriangles];
  isClockWise=clockWise;
  if (mesh.hasIndices())   fillFromIndexedMesh(mesh);
 else   fillFromMesh(mesh);
  calculatePlanes(clockWise);
}
