{
  final int statusCode=httpResponse.getStatus().getStatusCode();
  Gdx.app.postRunnable(new Runnable(){
    @Override public void run(){
      statusLabel.setText("HTTP Request status: " + statusCode);
      textButton.setDisabled(false);
      textButton.setTouchable(Touchable.enabled);
      textButtonTxt.setDisabled(false);
      textButtonTxt.setTouchable(Touchable.enabled);
    }
  }
);
  if (statusCode != 200) {
    Gdx.app.log("NetAPITest","An error ocurred since statusCode is not OK");
    return;
  }
  if (doImageDownload) {
    final byte[] rawImageBytes=httpResponse.getResult();
    Gdx.app.postRunnable(new Runnable(){
      public void run(){
        Texture.setEnforcePotImages(false);
        Pixmap pixmap=new Pixmap(rawImageBytes,0,rawImageBytes.length);
        texture=new Texture(pixmap);
        Texture.setEnforcePotImages(true);
      }
    }
);
  }
 else {
    final String newText=httpResponse.getResultAsString();
    Gdx.app.postRunnable(new Runnable(){
      public void run(){
        text=newText;
      }
    }
);
  }
}
