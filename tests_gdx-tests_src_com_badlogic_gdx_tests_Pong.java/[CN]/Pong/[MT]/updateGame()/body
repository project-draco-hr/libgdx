{
  float deltaTime=Gdx.graphics.getDeltaTime();
  ball.add(ballSpeed * ballDirection.x * deltaTime,ballSpeed * ballDirection.y * deltaTime);
  System.out.println(ball);
  if (ball.x < -240) {
    ball.set(0,0);
    ballSpeed=BALL_SPEED;
    ballDirection.set((float)Math.random() + 0.1f,(float)Math.random()).nor();
    rightScore++;
    score=leftScore + " : " + rightScore;
    leftPaddleMulti=(float)Math.min(1,Math.random() + 0.3f);
  }
  if (ball.x > 240) {
    ball.set(0,0);
    ballSpeed=BALL_SPEED;
    ballDirection.set((float)Math.random() + 0.1f,(float)Math.random()).nor();
    leftScore++;
    score=leftScore + " : " + rightScore;
    leftPaddleMulti=(float)Math.min(1,Math.random() + 0.3f);
  }
  if (ball.y > 160) {
    ballDirection.y=-ballDirection.y;
    ball.y=160;
  }
  if (ball.y < -160) {
    ballDirection.y=-ballDirection.y;
    ball.y=-160;
  }
  if (ballDirection.x > 0 && ball.x > rightPaddle.x - 5 && ball.x < rightPaddle.x + 5 && ball.y > rightPaddle.y - 30 && ball.y < rightPaddle.y + 30) {
    ball.x=rightPaddle.x - 6;
    ballDirection.x=-ballDirection.x;
    float sign=Math.signum(ball.y - rightPaddle.y);
    ballDirection.y=sign * (float)Math.abs(ball.y - rightPaddle.y) / 30;
    ballDirection.nor();
    ballSpeed+=10;
    if (ballSpeed > 300)     ballSpeed=300;
  }
  if (ballDirection.x < 0 && ball.x < leftPaddle.x + 5 && ball.x > leftPaddle.x - 5 && ball.y > leftPaddle.y - 30 && ball.y < leftPaddle.y + 30) {
    ball.x=leftPaddle.x + 6;
    ballDirection.x=-ballDirection.x;
    float sign=(float)Math.signum(ball.y - leftPaddle.y);
    ballDirection.y=sign * (float)Math.abs(ball.y - leftPaddle.y) / 30;
    ballDirection.nor();
    ballSpeed+=10;
    if (ballSpeed > 300)     ballSpeed=300;
    leftPaddleMulti=(float)Math.min(1,Math.random() + 0.3f);
  }
  if (Gdx.input.isTouched()) {
    float touchX=480 * (Gdx.input.getX() / (float)Gdx.graphics.getWidth() - 0.5f);
    float touchY=320 * (0.5f - Gdx.input.getY() / (float)Gdx.graphics.getHeight());
    if (touchX > rightPaddle.x)     rightPaddle.y=touchY;
  }
  if (ballDirection.x < 0) {
    float dir=(float)Math.signum(ball.y - leftPaddle.y);
    leftPaddle.y+=dir * deltaTime * (ballSpeed * leftPaddleMulti);
    if (dir > 0 && leftPaddle.y > ball.y)     leftPaddle.y=ball.y;
    if (dir < 0 && leftPaddle.y < ball.y)     leftPaddle.y=ball.y;
  }
}
