{
  Component root=SwingUtilities.getRoot(canvas);
  return root instanceof Frame ? ((Frame)root).isActive() : true;
}
