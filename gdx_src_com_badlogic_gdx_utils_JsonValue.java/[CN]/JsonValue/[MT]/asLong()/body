{
  if (doubleValue != null)   return longValue;
  if (stringValue != null) {
    try {
      return Long.parseLong(stringValue);
    }
 catch (    NumberFormatException ignored) {
    }
  }
  if (booleanValue != null)   return booleanValue ? 1 : 0;
  throw new IllegalStateException("Value cannot be converted to long: " + type);
}
