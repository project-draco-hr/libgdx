{
  PersistentSet.Path<Cell<T>> p=set.find(new Cell(value,null));
  if (p.fresh()) {
    return null;
  }
 else {
    --size;
    Cell<T> old=p.value();
    if (p.value().next != null) {
      set=p.replaceWith(p.value().next);
    }
 else {
      set=p.remove();
    }
    return old;
  }
}
