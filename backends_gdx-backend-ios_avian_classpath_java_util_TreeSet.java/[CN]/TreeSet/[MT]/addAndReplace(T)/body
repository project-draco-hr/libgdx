{
  PersistentSet.Path<Cell<T>> p=set.find(new Cell(value,null));
  if (p.fresh()) {
    set=p.add();
    ++size;
    return null;
  }
 else {
    T old=p.value().value;
    set=p.replaceWith(new Cell(value,null));
    return old;
  }
}
