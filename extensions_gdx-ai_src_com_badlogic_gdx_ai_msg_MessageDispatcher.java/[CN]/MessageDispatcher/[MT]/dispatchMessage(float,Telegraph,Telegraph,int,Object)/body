{
  Telegram telegram=pool.obtain();
  telegram.sender=sender;
  telegram.receiver=receiver;
  telegram.message=msg;
  telegram.extraInfo=extraInfo;
  if (delay <= 0.0f) {
    if (debugEnabled)     Gdx.app.log(LOG_TAG,"Instant telegram dispatched at time: " + getCurrentTime() + " by "+ sender+ " for "+ receiver+ ". Msg is "+ msg);
    discharge(telegram);
  }
 else {
    long currentTime=getCurrentTime();
    telegram.setTimestamp(currentTime + (long)(delay * NANOS_PER_SEC),timeGranularity);
    boolean added=queue.add(telegram);
    if (!added)     pool.free(telegram);
    if (debugEnabled) {
      if (added)       Gdx.app.log(LOG_TAG,"Delayed telegram from " + sender + " for "+ receiver+ " recorded at time "+ getCurrentTime()+ ". Msg is "+ msg);
 else       Gdx.app.log(LOG_TAG,"Delayed telegram from " + sender + " for "+ receiver+ " rejected by the queue. Msg is "+ msg);
    }
  }
}
