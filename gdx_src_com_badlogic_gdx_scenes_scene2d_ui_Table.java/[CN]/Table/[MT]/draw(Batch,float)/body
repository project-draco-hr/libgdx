{
  boolean hasScissorBounds=false;
  validate();
  if (isTransform()) {
    applyTransform(batch,computeTransform());
    drawBackground(batch,parentAlpha,0,0);
    if (clip) {
      batch.flush();
      float x=0, y=0, width=getWidth(), height=getHeight();
      if (background != null) {
        x=padLeft.get(this);
        y=padBottom.get(this);
        width-=x + padRight.get(this);
        height-=y + padTop.get(this);
      }
      boolean draw=clipBegin(x,y,width,height);
      if (draw) {
        hasScissorBounds=true;
        if (scissorBounds == null)         scissorBounds=Pools.obtain(Rectangle.class);
        scissorBounds.set(ScissorStack.peekScissors());
        drawChildren(batch,parentAlpha);
        clipEnd();
      }
    }
 else     drawChildren(batch,parentAlpha);
    resetTransform(batch);
  }
 else {
    drawBackground(batch,parentAlpha,getX(),getY());
    super.draw(batch,parentAlpha);
  }
  if (!hasScissorBounds && scissorBounds != null)   Pools.free(scissorBounds);
}
