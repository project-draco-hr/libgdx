{
  if (getDebug() == DEBUG_NONE || debugRects == null)   return;
  if (debugRenderer == null) {
    if (Gdx.graphics.isGL20Available())     debugRenderer=new ImmediateModeRenderer20(64,false,true,0);
 else     debugRenderer=new ImmediateModeRenderer10(64);
  }
  Table table=getTable();
  Actor parent=table.parent;
  float x=0, y=0;
  while (parent != null) {
    boolean parentUpdatesTransform=false;
    if (parent instanceof Table)     parentUpdatesTransform=((Table)parent).getTableLayout().updatesTransform;
 else {
      if (parent instanceof Group)       parentUpdatesTransform=true;
    }
    if (parentUpdatesTransform) {
      x+=parent.x;
      y+=parent.y;
    }
    parent=parent.parent;
  }
  y=table.y + table.height - y;
  int viewHeight=Gdx.graphics.getHeight();
  debugRenderer.begin(batch.getProjectionMatrix(),GL10.GL_LINES);
  for (int i=0, n=debugRects.size; i < n; i++) {
    DebugRect rect=debugRects.get(i);
    float x1=x + rect.x;
    float y1=y - rect.y - rect.height;
    float x2=x1 + rect.width;
    float y2=y1 + rect.height;
    float r=(rect.type & DEBUG_CELL) != 0 ? 1 : 0;
    float g=(rect.type & DEBUG_WIDGET) != 0 ? 1 : 0;
    float b=(rect.type & DEBUG_TABLE) != 0 ? 1 : 0;
    debugRenderer.color(r,g,b,1);
    debugRenderer.vertex(x1,y1,0);
    debugRenderer.color(r,g,b,1);
    debugRenderer.vertex(x1,y2,0);
    debugRenderer.color(r,g,b,1);
    debugRenderer.vertex(x1,y2,0);
    debugRenderer.color(r,g,b,1);
    debugRenderer.vertex(x2,y2,0);
    debugRenderer.color(r,g,b,1);
    debugRenderer.vertex(x2,y2,0);
    debugRenderer.color(r,g,b,1);
    debugRenderer.vertex(x2,y1,0);
    debugRenderer.color(r,g,b,1);
    debugRenderer.vertex(x2,y1,0);
    debugRenderer.color(r,g,b,1);
    debugRenderer.vertex(x1,y1,0);
    if (debugRenderer.getNumVertices() == 64) {
      debugRenderer.end();
      debugRenderer.begin(batch.getProjectionMatrix(),GL10.GL_LINES);
    }
  }
  debugRenderer.end();
}
