{
  Node node=new Node();
  node.id=modelNode.id;
  node.boneId=modelNode.boneId;
  node.parent=parent;
  if (modelNode.translation != null)   node.translation.set(modelNode.translation);
  if (modelNode.rotation != null)   node.rotation.set(modelNode.rotation);
  if (modelNode.scale != null)   node.scale.set(modelNode.scale);
  if (modelNode.parts != null) {
    for (    ModelNodePart modelMeshPartMaterial : modelNode.parts) {
      MeshPart meshPart=null;
      Material meshMaterial=null;
      if (modelMeshPartMaterial.meshPartId != null) {
        for (        MeshPart part : meshParts) {
          if (modelMeshPartMaterial.meshPartId.equals(part.id)) {
            meshPart=part;
            break;
          }
        }
      }
      if (modelMeshPartMaterial.materialId != null) {
        for (        Material material : materials) {
          if (modelMeshPartMaterial.materialId.equals(material.id)) {
            meshMaterial=material;
            break;
          }
        }
      }
      if (meshPart != null && meshMaterial != null) {
        NodePart meshPartMaterial=new NodePart();
        meshPartMaterial.meshPart=meshPart;
        meshPartMaterial.material=meshMaterial;
        node.parts.add(meshPartMaterial);
      }
    }
  }
  if (modelNode.children != null) {
    for (    ModelNode child : modelNode.children) {
      node.children.add(loadNode(node,child));
    }
  }
  return node;
}
