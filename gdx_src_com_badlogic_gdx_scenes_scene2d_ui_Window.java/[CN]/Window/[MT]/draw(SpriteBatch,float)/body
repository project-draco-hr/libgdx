{
  if (keepWithinParent) {
    float parentWidth, parentHeight;
    Group parent=getParent();
    Stage stage=getStage();
    if (parent == stage.getRoot()) {
      parentWidth=stage.getWidth();
      parentHeight=stage.getHeight();
    }
 else {
      parentWidth=parent.getWidth();
      parentHeight=parent.getHeight();
    }
    if (getX() < 0)     setX(0);
    if (getRight() > parentWidth)     setX(parentWidth - getWidth());
    if (getY() < 0)     setY(0);
    if (getTop() > parentHeight)     setY(parentHeight - getHeight());
  }
  super.draw(batch,parentAlpha);
}
