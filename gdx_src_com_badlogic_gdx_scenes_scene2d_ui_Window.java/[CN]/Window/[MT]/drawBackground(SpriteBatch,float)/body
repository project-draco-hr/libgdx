{
  float x=getX(), y=getY();
  float width=getWidth(), height=getHeight();
  float padTop=getPadTop();
  if (style.stageBackground != null) {
    Color color=getColor();
    batch.setColor(color.r,color.g,color.b,color.a * parentAlpha);
    Stage stage=getStage();
    stageToLocalCoordinates(tmpPosition.set(0,0));
    stageToLocalCoordinates(tmpSize.set(stage.getWidth(),stage.getHeight()));
    style.stageBackground.draw(batch,x + tmpPosition.x,y + tmpPosition.y,x + tmpSize.x,y + tmpSize.y);
  }
  super.drawBackground(batch,parentAlpha);
  buttonTable.getColor().a=getColor().a;
  buttonTable.pack();
  buttonTable.setPosition(width - buttonTable.getWidth(),Math.min(height - padTop,height - buttonTable.getHeight()));
  buttonTable.translate(x,y);
  buttonTable.draw(batch,parentAlpha);
  buttonTable.translate(-x,-y);
  y+=height;
  TextBounds bounds=titleCache.getBounds();
  if ((titleAlignment & Align.left) != 0)   x+=getPadLeft();
 else   if ((titleAlignment & Align.right) != 0)   x+=width - bounds.width - getPadRight();
 else   x+=(width - bounds.width) / 2;
  if ((titleAlignment & Align.top) == 0) {
    if ((titleAlignment & Align.bottom) != 0)     y-=padTop - bounds.height;
 else     y-=(padTop - bounds.height) / 2;
  }
  titleCache.setColor(Color.tmp.set(getColor()).mul(style.titleFontColor));
  titleCache.setPosition((int)x,(int)y);
  titleCache.draw(batch,parentAlpha);
}
