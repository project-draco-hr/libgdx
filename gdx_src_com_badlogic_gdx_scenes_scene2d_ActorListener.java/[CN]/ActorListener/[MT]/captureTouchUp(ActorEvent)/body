{
  if (touchUpListener == null) {
    touchUpListener=new EventListener(){
      public boolean handle(      Event e){
        if (!(e instanceof ActorEvent))         return false;
        ActorEvent event=(ActorEvent)e;
        Type type=event.getType();
        if (type != Type.touchUp && type != Type.touchDragged)         return false;
        event.stop();
        event.setCurrentTarget(captureTouchUp);
        Vector2 coords=captureTouchUp.toLocalCoordinates(event.getStageX(),event.getStageY());
        if (event.getType() == Type.touchDragged)         return touchDragged(event,coords.x,coords.y,event.getPointer());
        captureTouchUp=null;
        event.getStage().removeCaptureListener(this);
        return touchUp(event,coords.x,coords.y,event.getPointer(),event.getButton());
      }
    }
;
  }
  if (event.getStage().addCaptureListener(touchUpListener))   captureTouchUp=event.getCurrentTarget();
}
