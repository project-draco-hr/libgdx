{
  int program=gl.glCreateProgram();
  if (program == 0)   return -1;
  gl.glAttachShader(program,vertexShaderHandle);
  gl.glAttachShader(program,fragmentShaderHandle);
  gl.glLinkProgram(program);
  ByteBuffer tmp=ByteBuffer.allocateDirect(4);
  tmp.order(ByteOrder.nativeOrder());
  IntBuffer intbuf=tmp.asIntBuffer();
  gl.glGetProgramiv(program,GL20.GL_LINK_STATUS,intbuf);
  int linked=intbuf.get(0);
  if (linked == 0) {
    gl.glGetProgramiv(program,GL20.GL_INFO_LOG_LENGTH,intbuf);
    int infoLogLength=intbuf.get(0);
    if (infoLogLength > 1)     log+=gl.glGetProgramInfoLog(program);
    return -1;
  }
  return program;
}
