{
  AssetLoadingTask task=tasks.peek();
  if (task.update()) {
    assetTypes.put(task.assetDesc.fileName,task.assetDesc.type);
    ObjectMap<String,Object> typeToAssets=assets.get(task.assetDesc.type);
    if (typeToAssets == null) {
      typeToAssets=new ObjectMap<String,Object>();
      assets.put(task.assetDesc.type,typeToAssets);
    }
    typeToAssets.put(task.assetDesc.fileName,task.getAsset());
    incrementRefCountedDependencies(task.assetDesc.fileName);
    loaded++;
    tasks.pop();
    if (task.cancel)     remove(task.assetDesc.fileName);
    return true;
  }
 else {
    return false;
  }
}
