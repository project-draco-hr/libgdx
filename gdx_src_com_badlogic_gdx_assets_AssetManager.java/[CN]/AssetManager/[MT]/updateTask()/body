{
  AssetLoadingTask task=tasks.peek();
  if (task.update()) {
    addAsset(task.assetDesc.fileName,task.assetDesc.type,task.getAsset());
    if (tasks.size() == 1)     loaded++;
    tasks.pop();
    if (task.cancel) {
      unload(task.assetDesc.fileName);
    }
 else {
      if (task.assetDesc.params != null && task.assetDesc.params.loadedCallback != null) {
        task.assetDesc.params.loadedCallback.finishedLoading(this,task.assetDesc.fileName,task.assetDesc.type);
      }
      long endTime=TimeUtils.nanoTime();
      log.debug("Loaded: " + (endTime - task.startTime) / 1000000f + "ms " + task.assetDesc);
    }
    return true;
  }
 else {
    return false;
  }
}
