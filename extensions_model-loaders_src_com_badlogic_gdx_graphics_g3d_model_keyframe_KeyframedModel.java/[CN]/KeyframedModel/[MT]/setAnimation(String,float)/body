{
  int len=subMeshes.length;
  for (int i=0; i < len; i++) {
    KeyframedSubMesh subMesh=subMeshes[i];
    KeyframedAnimation anim=subMesh.animations.get(animation);
    if (anim == null)     throw new IllegalArgumentException("No animation with name '" + animation + "' in submesh #"+ i);
    Keyframe keyframe=anim.keyframes[(int)time];
    float[] src=keyframe.vertices;
    int numComponents=keyframe.animatedComponents;
    int srcLen=numComponents * subMesh.mesh.getNumVertices();
    float[] dst=subMesh.blendedVertices;
    int dstInc=subMesh.mesh.getVertexSize() / 4 - numComponents;
    for (int srcIdx=0, dstIdx=0; srcIdx < srcLen; dstIdx+=dstInc) {
      for (int j=0; j < numComponents; j++) {
        dst[dstIdx++]=src[srcIdx++];
      }
    }
    subMesh.mesh.setVertices(dst);
  }
}
