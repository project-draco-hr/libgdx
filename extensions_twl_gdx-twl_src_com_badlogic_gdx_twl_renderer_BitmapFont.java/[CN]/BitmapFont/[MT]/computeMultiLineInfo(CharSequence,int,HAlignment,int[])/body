{
  int start=0;
  int idx=0;
  while (start < str.length()) {
    int lineEnd=TextUtil.indexOf(str,'\n',start);
    int lineWidth=computeTextWidth(str,start,lineEnd);
    int xoff=width - lineWidth;
    if (align == HAlignment.LEFT) {
      xoff=0;
    }
 else     if (align == HAlignment.CENTER) {
      xoff/=2;
    }
    multiLineInfo[idx++]=(lineWidth << 16) | (xoff & 0xFFFF);
    start=lineEnd + 1;
  }
}
