{
  p("public Object newArray (Class componentType, int size) {");
  p("    String param = componentType.getName().replace('$', '.');");
  SwitchedCodeBlocks pc=new SwitchedCodeBlocks();
  for (  JType type : types) {
    if (type.getQualifiedSourceName().equals("void"))     continue;
    if (type.getQualifiedSourceName().endsWith("Void"))     continue;
    String arrayType=type.getErasedType().getQualifiedSourceName() + "[size]";
    if (arrayType.contains("[]")) {
      arrayType=type.getErasedType().getQualifiedSourceName();
      arrayType=arrayType.replaceFirst("\\[\\]","[size]") + "[]";
    }
    pc.add(type.getQualifiedSourceName(),"return new " + arrayType + ";");
  }
  pc.print();
  p("	throw new RuntimeException(\"Couldn't create array with element type \" + componentType.getName());");
  p("}");
}
