{
  p("public void setArrayElement(Type type, Object obj, int i, Object value) {");
  p("    String param = type.getName();");
  SwitchedCodeBlocks pc=new SwitchedCodeBlocks();
  for (  JType type : types) {
    if (!(type instanceof JArrayType))     continue;
    String value=((JArrayType)type).getComponentType().getErasedType().getQualifiedSourceName();
    if (isPrimitive(value)) {
      value=castPrimitive(value,"value");
    }
 else {
      value="(" + value + ")value";
    }
    pc.add(type.getQualifiedSourceName(),"((" + type.getQualifiedSourceName() + ")obj)[i] = "+ value+ ";");
  }
  pc.print();
  p("}");
}
