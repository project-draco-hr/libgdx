{
  destination.set(packet.position).add(packet.velocity);
  newPosition.set(packet.position);
  if (packet.getNearestDistance() >= displacementDistance || packet.getNearestDistance() == 0) {
    newVelocity.set(packet.velocity).nor().mul(packet.getNearestDistance() != 0 ? packet.getNearestDistance() - displacementDistance : displacementDistance);
    newPosition.add(newVelocity);
    newVelocity.nor();
    packet.getIntersectionPoint().sub(newVelocity.mul(displacementDistance));
    System.out.println("displacing");
  }
  System.out.println(packet.getNearestDistance());
  slidingPlaneOrigin.set(packet.getIntersectionPoint());
  slidingPlaneNormal.set(newPosition).sub(packet.getIntersectionPoint()).nor();
  slidingPlane.set(slidingPlaneOrigin,slidingPlaneNormal);
  newDestination.set(destination).sub(slidingPlane.normal.mul(slidingPlane.distance(destination)));
  newVelocity.set(newDestination).sub(packet.getIntersectionPoint());
  packet.velocity.set(newVelocity);
  packet.position.set(newPosition);
}
