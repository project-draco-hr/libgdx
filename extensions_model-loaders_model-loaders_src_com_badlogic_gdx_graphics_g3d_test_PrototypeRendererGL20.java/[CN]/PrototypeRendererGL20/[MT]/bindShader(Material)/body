{
  if (material.shader == currentShader)   return false;
  currentShader=material.shader;
  currentShader.begin();
  lightManager.applyGlobalLights(currentShader);
  lightManager.applyLights(currentShader);
  currentShader.setUniformMatrix("u_projectionViewMatrix",cam.combined);
  currentShader.setUniformf("camPos",cam.position.x,cam.position.y,cam.position.z);
  currentShader.setUniformf("camDir",cam.direction.x,cam.direction.y,cam.direction.z);
  return true;
}
