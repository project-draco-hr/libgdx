{
  if (keepAspectRatio) {
    float screenWidth=Gdx.graphics.getWidth();
    float screenHeight=Gdx.graphics.getHeight();
    if (screenHeight / screenWidth < height / width) {
      float toScreenSpace=screenHeight / height;
      float toViewportSpace=height / screenHeight;
      float deviceWidth=width * toScreenSpace;
      float lengthen=(screenWidth - deviceWidth) * toViewportSpace;
      gutterWidth=lengthen / 2;
      gutterHeight=0;
      this.width=width + lengthen;
      this.height=height;
    }
 else {
      float toScreenSpace=screenWidth / width;
      float toViewportSpace=width / screenWidth;
      float deviceHeight=height * toScreenSpace;
      float lengthen=(screenHeight - deviceHeight) * toViewportSpace;
      gutterWidth=0;
      gutterHeight=lengthen / 2;
      this.height=height + lengthen;
      this.width=width;
    }
  }
 else {
    this.width=width;
    this.height=height;
    gutterWidth=0;
    gutterHeight=0;
  }
  centerX=this.width / 2;
  centerY=this.height / 2;
  camera.position.set(centerX,centerY,0);
  camera.viewportWidth=this.width;
  camera.viewportHeight=this.height;
}
