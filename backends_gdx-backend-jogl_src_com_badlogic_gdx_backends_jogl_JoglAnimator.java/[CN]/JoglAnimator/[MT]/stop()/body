{
  shouldStop=true;
  notifyAll();
  if ((Thread.currentThread() == thread) || EventQueue.isDispatchThread()) {
    return;
  }
  while (shouldStop && thread != null) {
    try {
      wait();
    }
 catch (    InterruptedException ie) {
    }
  }
  while (thread.isAlive()) {
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException e) {
    }
  }
}
