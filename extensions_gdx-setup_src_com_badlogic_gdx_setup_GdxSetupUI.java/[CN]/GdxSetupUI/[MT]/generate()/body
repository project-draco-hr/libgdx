{
  final String name=ui.form.nameText.getText().trim();
  if (name.length() == 0) {
    JOptionPane.showMessageDialog(this,"Please enter a project name.");
    return;
  }
  final String pack=ui.form.packageText.getText().trim();
  if (pack.length() == 0) {
    JOptionPane.showMessageDialog(this,"Please enter a package name.");
    return;
  }
  final String clazz=ui.form.gameClassText.getText().trim();
  if (clazz.length() == 0) {
    JOptionPane.showMessageDialog(this,"Please enter a game class name.");
    return;
  }
  final String destination=ui.form.destinationText.getText().trim();
  if (destination.length() == 0) {
    JOptionPane.showMessageDialog(this,"Please enter a destination directory.");
    return;
  }
  final String sdkLocation=ui.form.sdkLocationText.getText().trim();
  if (sdkLocation.length() == 0) {
    JOptionPane.showMessageDialog(this,"Please enter your Android SDK's path");
    return;
  }
  if (!GdxSetup.isSdkLocationValid(sdkLocation)) {
    JOptionPane.showMessageDialog(this,"Your Android SDK path doesn't contain an SDK! Please install the Android SDK, including all platforms and build tools!");
    return;
  }
  ui.generateButton.setEnabled(false);
  new Thread(){
    public void run(){
      log("Generating app in " + destination);
      new GdxSetup().build(destination,name,pack,clazz,sdkLocation,new CharCallback(){
        @Override public void character(        char c){
          log(c);
        }
      }
);
      log("Done!");
      log("To import in Eclipse: File -> Import -> Gradle -> Gradle Project");
      log("To import to Intellij IDEA: File -> Import -> build.gradle");
      log("To import to NetBeans: File -> Open Project...");
      SwingUtilities.invokeLater(new Runnable(){
        @Override public void run(){
          ui.generateButton.setEnabled(true);
        }
      }
);
    }
  }
.start();
}
