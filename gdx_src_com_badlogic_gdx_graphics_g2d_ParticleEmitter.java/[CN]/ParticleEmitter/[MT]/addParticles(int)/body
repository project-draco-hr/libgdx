{
  count=Math.min(count,maxParticleCount - activeCount);
  if (count == 0)   return;
  BitSet active=this.active;
  for (int i=0; i < count; i++) {
    int index=active.nextClearBit(0);
    activateParticle(index);
    active.set(index);
  }
  this.activeCount+=count;
}
