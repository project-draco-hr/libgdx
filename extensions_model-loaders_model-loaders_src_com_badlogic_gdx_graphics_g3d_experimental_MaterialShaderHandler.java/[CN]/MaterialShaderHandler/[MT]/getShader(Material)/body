{
  for (int i=0; i < materialsWithShader.size; i++) {
    if (material.shaderEquals(materialsWithShader.get(i))) {
      return materialsWithShader.get(i).getShader();
    }
  }
  materialsWithShader.add(material);
  return ShaderFactory.createShader(material,lightManager);
}
