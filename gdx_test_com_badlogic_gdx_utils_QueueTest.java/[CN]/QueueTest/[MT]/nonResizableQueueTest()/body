{
  final Queue<Integer> q=new Queue<Integer>(5,false);
  for (int i=0; i < 5; i++) {
    try {
      q.push(i);
    }
 catch (    IllegalStateException ise) {
      fail("Failed to add element " + i);
    }
    assertTrue("Wrong size after " + i,q.size() == i + 1);
  }
  assertTrue("Not full when should be full",q.isFull());
  for (int i=5; i < 10; i++) {
    try {
      q.push(i);
      fail("Added element " + i);
    }
 catch (    IllegalStateException e) {
    }
    assertTrue("Wrong size after " + i,q.size() == 5);
    assertTrue("Not full when should be full (" + i + ")",q.isFull());
  }
  q.clear();
  assertTrue("Wrong size after clear",q.size() == 0);
  assertTrue("Not empty when should be empty",q.size() == 0);
  assertFalse("Full when should be empty",q.isFull());
}
