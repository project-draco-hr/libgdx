{
  int index=key & mask;
  for (Entry e=table[index]; e != null; e=e.next) {
    if (e.key != key)     continue;
    Object oldValue=e.value;
    e.value=value;
    return (T)oldValue;
  }
  table[index]=new Entry(key,value,table[index]);
  if (size++ >= threshold)   resize(2 * capacity);
  return null;
}
