{
  if (decoder == null)   throw new IllegalArgumentException("Decoder must be != null");
  if (sampleWindowSize <= 0)   throw new IllegalArgumentException("Sample window size must be > 0");
  if (hopSize <= 0)   throw new IllegalArgumentException("Hop size must be > 0");
  if (sampleWindowSize < hopSize)   throw new IllegalArgumentException("Hop size must be <= sampleSize");
  this.decoder=decoder;
  this.samples=new float[sampleWindowSize];
  this.nextSamples=new float[sampleWindowSize];
  this.tempSamples=new float[sampleWindowSize];
  this.hopSize=hopSize;
  fft=new FFT(sampleWindowSize,44100);
  if (useHamming)   fft.window(FFT.HAMMING);
  decoder.readSamples(samples);
  decoder.readSamples(nextSamples);
}
