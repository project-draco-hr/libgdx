{
  for (  Page page : pages) {
    if (page.textureNeedsRefresh) {
      if (page.texture == null) {
        generatePageTexture(page,minFilter,magFilter,useMipMaps);
      }
 else {
        page.texture.load(page.texture.getTextureData());
      }
      for (      String name : page.addedRects) {
        Rectangle rect=page.rects.get(name);
        TextureRegion region=new TextureRegion(page.texture,(int)rect.x,(int)rect.y,(int)rect.width,(int)rect.height);
        atlas.addRegion(name,region);
      }
      page.addedRects.clear();
      page.textureNeedsRefresh=false;
    }
    atlas.getTextures().add(page.texture);
  }
}
