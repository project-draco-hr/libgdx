{
  value=value.replace("\\","\\\\");
switch (this) {
case minimal:
    if (minimalNamePattern.matcher(value).matches())     return value;
  return '"' + value.replace("\"","\\\"") + '"';
case javascript:
if (javascriptPattern.matcher(value).matches()) return value;
return '"' + value.replace("\"","\\\"") + '"';
default :
return '"' + value.replace("\"","\\\"") + '"';
}
}
