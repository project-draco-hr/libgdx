{
  BufferedReader in=new BufferedReader(new InputStreamReader(stream));
  lineNum=1;
  try {
    String version=readString(in);
    if (!version.equals("g3dt-keyframed-1.0"))     throw new GdxRuntimeException("incorrect version");
    int numMeshes=readInt(in);
    KeyframedSubMesh[] subMeshes=new KeyframedSubMesh[numMeshes];
    for (int i=0; i < numMeshes; i++) {
      subMeshes[i]=readMesh(in,flipV);
    }
    KeyframedModel model=new KeyframedModel(subMeshes);
    model.setAnimation(model.getAnimations()[0].name,0,false);
    return model;
  }
 catch (  Throwable e) {
    throw new GdxRuntimeException("Couldn't read keyframed model, error in line " + lineNum + ", '"+ line+ "' : "+ e.getMessage(),e);
  }
}
