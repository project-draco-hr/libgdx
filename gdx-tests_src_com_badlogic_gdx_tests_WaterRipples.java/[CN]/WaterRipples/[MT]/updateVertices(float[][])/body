{
  int idx=0;
  for (int y=0; y <= HEIGHT; y++) {
    for (int x=0; x <= WIDTH; x++) {
      float xOffset=0;
      float yOffset=0;
      if (x > 0 && x < WIDTH && y > 0 && y < HEIGHT) {
        xOffset=(curr[x - 1][y] - curr[x + 1][y]);
        yOffset=(curr[x][y - 1] - curr[x][y + 1]);
      }
      vertices[idx++]=x;
      vertices[idx++]=y;
      vertices[idx++]=0;
      vertices[idx++]=(x + xOffset) * INV_WIDTH;
      vertices[idx++]=(y + yOffset) * INV_HEIGHT;
    }
  }
  mesh.setVertices(vertices);
}
