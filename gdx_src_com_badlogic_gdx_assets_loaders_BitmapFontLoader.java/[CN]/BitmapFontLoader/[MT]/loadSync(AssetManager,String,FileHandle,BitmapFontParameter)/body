{
  if (parameter != null && parameter.atlasName != null) {
    TextureAtlas atlas=manager.get(parameter.atlasName,TextureAtlas.class);
    String name=file.sibling(data.imagePaths[0]).nameWithoutExtension().toString();
    AtlasRegion region=atlas.findRegion(name);
    if (region == null)     throw new GdxRuntimeException(String.format("Could not find font region " + name + " in atlas "+ parameter.atlasName));
    return new BitmapFont(file,region);
  }
 else {
    TextureRegion[] regs=new TextureRegion[data.getImagePaths().length];
    for (int i=0; i < regs.length; i++) {
      regs[i]=new TextureRegion(manager.get(data.getImagePath(i),Texture.class));
    }
    return new BitmapFont(data,regs,true);
  }
}
