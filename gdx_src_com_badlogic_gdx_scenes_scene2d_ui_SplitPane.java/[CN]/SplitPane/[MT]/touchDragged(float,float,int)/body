{
  if (!touchDrag) {
    super.touchDragged(x,y,pointer);
    return;
  }
  NinePatch handle=style.handle;
  if (!vertical) {
    float delta=x - lastPoint.x;
    float availWidth=getWidth() - handle.getTotalWidth();
    float dragX=handlePosition.x + delta;
    handlePosition.x=dragX;
    dragX=Math.max(0,dragX);
    dragX=Math.min(availWidth,dragX);
    splitAmount=dragX / availWidth;
    if (splitAmount < minAmount)     splitAmount=minAmount;
    if (splitAmount > maxAmount)     splitAmount=maxAmount;
    lastPoint.set(x,y);
  }
 else {
    float delta=y - lastPoint.y;
    float availHeight=getHeight() - handle.getTotalHeight();
    float dragY=handlePosition.y + delta;
    handlePosition.y=dragY;
    dragY=Math.max(0,dragY);
    dragY=Math.min(availHeight,dragY);
    splitAmount=1 - (dragY / availHeight);
    if (splitAmount < minAmount)     splitAmount=minAmount;
    if (splitAmount > maxAmount)     splitAmount=maxAmount;
    lastPoint.set(x,y);
  }
  invalidate();
}
