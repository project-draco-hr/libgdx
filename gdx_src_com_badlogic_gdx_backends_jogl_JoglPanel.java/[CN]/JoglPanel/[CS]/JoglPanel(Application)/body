{
  super();
  loadLibraries();
  this.application=application;
  GLCapabilities caps=new GLCapabilities();
  caps.setRedBits(8);
  caps.setGreenBits(8);
  caps.setBlueBits(8);
  caps.setAlphaBits(8);
  caps.setDepthBits(16);
  caps.setStencilBits(8);
  caps.setNumSamples(4);
  caps.setSampleBuffers(true);
  caps.setDoubleBuffered(true);
  if (context == null) {
    canvas=new GLCanvas(caps);
    context=canvas.getContext();
  }
 else   canvas=new GLCanvas(caps,null,context,null);
  canvas.addGLEventListener(this);
  this.setLayout(new BorderLayout());
  add(canvas,BorderLayout.CENTER);
  animator=new Animator(canvas);
  animator.start();
  start_time=System.nanoTime();
  canvas.addMouseListener(this);
  canvas.addMouseMotionListener(this);
  canvas.addKeyListener(this);
}
