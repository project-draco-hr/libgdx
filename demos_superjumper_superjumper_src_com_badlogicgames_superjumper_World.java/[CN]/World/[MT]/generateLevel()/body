{
  float y=Platform.PLATFORM_HEIGHT / 2;
  float maxJumpHeight=Bob.BOB_JUMP_VELOCITY * Bob.BOB_JUMP_VELOCITY / (2 * -gravity.y);
  while (y < WORLD_HEIGHT - WORLD_WIDTH / 2) {
    int type=rand.nextFloat() > 0.8f ? Platform.PLATFORM_TYPE_MOVING : Platform.PLATFORM_TYPE_STATIC;
    float x=rand.nextFloat() * (WORLD_WIDTH - Platform.PLATFORM_WIDTH) + Platform.PLATFORM_WIDTH / 2;
    Platform platform=new Platform(type,x,y);
    platforms.add(platform);
    if (rand.nextFloat() > 0.9f && type != Platform.PLATFORM_TYPE_MOVING) {
      Spring spring=new Spring(platform.position.x,platform.position.y + Platform.PLATFORM_HEIGHT / 2 + Spring.SPRING_HEIGHT / 2);
      springs.add(spring);
    }
    if (y > WORLD_HEIGHT / 3 && rand.nextFloat() > 0.8f) {
      Squirrel squirrel=new Squirrel(platform.position.x + rand.nextFloat(),platform.position.y + Squirrel.SQUIRREL_HEIGHT + rand.nextFloat() * 2);
      squirrels.add(squirrel);
    }
    if (rand.nextFloat() > 0.6f) {
      Coin coin=new Coin(platform.position.x + rand.nextFloat(),platform.position.y + Coin.COIN_HEIGHT + rand.nextFloat() * 3);
      coins.add(coin);
    }
    y+=(maxJumpHeight - 0.5f);
    y-=rand.nextFloat() * (maxJumpHeight / 3);
  }
  castle=new Castle(WORLD_WIDTH / 2,y);
}
