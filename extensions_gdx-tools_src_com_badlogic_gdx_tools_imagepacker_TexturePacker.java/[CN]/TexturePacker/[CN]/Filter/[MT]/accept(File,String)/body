{
switch (direction) {
case none:
    if (name.contains("_x") || name.contains("_y"))     return false;
  break;
case x:
if (!name.contains("_x") || name.contains("_xy")) return false;
break;
case y:
if (!name.contains("_y") || name.contains("_xy")) return false;
break;
case xy:
if (!name.contains("_xy")) return false;
break;
}
if (format != null) {
if (!name.contains("_" + formatToAbbrev.get(format))) return false;
}
 else {
for (String f : formatToAbbrev.values()) if (name.contains("_" + f)) return false;
}
if (minFilter != null && magFilter != null) {
if (!name.contains("_" + filterToAbbrev.get(minFilter) + ","+ filterToAbbrev.get(magFilter)+ ".") && !name.contains("_" + filterToAbbrev.get(minFilter) + ","+ filterToAbbrev.get(magFilter)+ "_")) return false;
}
 else {
for (String f : filterToAbbrev.values()) {
String tag="_" + f + ",";
int tagIndex=name.indexOf(tag);
if (tagIndex != -1) {
String rest=name.substring(tagIndex + tag.length());
for (String f2 : filterToAbbrev.values()) if (rest.startsWith(f2 + ".") || rest.startsWith(f2 + "_")) return false;
}
}
}
return true;
}
