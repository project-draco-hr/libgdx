{
  if (rotated) {
    for (int i=0; i < w; i++)     for (int j=0; j < h; j++)     dst.setRGB(dx + j,dy + w - i - 1,src.getRGB(x + i,y + j));
  }
 else {
    for (int i=0; i < w; i++)     for (int j=0; j < h; j++)     dst.setRGB(dx + i,dy + j,src.getRGB(x + i,y + j));
  }
}
