{
  if (this.data != null && data.isManaged() != this.data.isManaged())   throw new GdxRuntimeException("New data must have the same managed status as the old data");
  this.data=data;
  if (!data.isPrepared())   data.prepare();
  final TextureDataType type=data.getType();
  if (type == TextureDataType.Pixmap) {
    Pixmap pixmap=data.consumePixmap();
    uploadImageData(pixmap);
    if (data.disposePixmap())     pixmap.dispose();
  }
 else   if (type == TextureDataType.Compressed) {
    Gdx.gl.glBindTexture(GL10.GL_TEXTURE_2D,glHandle);
    data.consumeCompressedData();
  }
 else   if (type == TextureDataType.Float) {
    Gdx.gl.glBindTexture(GL10.GL_TEXTURE_2D,glHandle);
    data.consumeCompressedData();
  }
  setFilter(minFilter,magFilter);
  setWrap(uWrap,vWrap);
  Gdx.gl.glBindTexture(GL10.GL_TEXTURE_2D,0);
}
