{
  if (enforcePotImages && Gdx.gl20 == null && (!MathUtils.isPowerOfTwo(data.getWidth()) || !MathUtils.isPowerOfTwo(data.getHeight())))   throw new GdxRuntimeException("texture width and height must be powers of two");
  boolean disposePixmap=false;
  if (data.getFormat() != pixmap.getFormat()) {
    Pixmap tmp=new Pixmap(pixmap.getWidth(),pixmap.getHeight(),data.getFormat());
    Blending blend=Pixmap.getBlending();
    Pixmap.setBlending(Blending.None);
    tmp.drawPixmap(pixmap,0,0,0,0,pixmap.getWidth(),pixmap.getHeight());
    Pixmap.setBlending(blend);
    pixmap=tmp;
    disposePixmap=true;
  }
  Gdx.gl.glBindTexture(GL10.GL_TEXTURE_2D,glHandle);
  Gdx.gl.glPixelStorei(GL10.GL_UNPACK_ALIGNMENT,1);
  if (data.useMipMaps()) {
    MipMapGenerator.generateMipMap(pixmap,pixmap.getWidth(),pixmap.getHeight(),disposePixmap);
  }
 else {
    Gdx.gl.glTexImage2D(GL10.GL_TEXTURE_2D,0,pixmap.getGLInternalFormat(),pixmap.getWidth(),pixmap.getHeight(),0,pixmap.getGLFormat(),pixmap.getGLType(),pixmap.getPixels());
    if (disposePixmap) {
      pixmap.dispose();
    }
  }
}
