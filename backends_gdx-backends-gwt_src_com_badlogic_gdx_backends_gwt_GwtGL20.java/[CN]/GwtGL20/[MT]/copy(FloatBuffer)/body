{
  ensureCapacity(buffer);
  float[] array=buffer.array();
  for (int i=buffer.position(), j=0; i < buffer.limit(); i++, j++) {
    floatBuffer.set(j,array[i]);
  }
  return floatBuffer.subarray(0,buffer.remaining());
}
