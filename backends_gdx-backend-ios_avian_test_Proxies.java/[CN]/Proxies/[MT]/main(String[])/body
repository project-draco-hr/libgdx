{
  Foo foo=(Foo)Proxy.newProxyInstance(Proxies.class.getClassLoader(),new Class[]{Foo.class},new InvocationHandler(){
    public Object invoke(    Object proxy,    Method method,    Object[] arguments){
      if (method.getName().equals("bar")) {
        return "bam";
      }
 else       if (method.getName().equals("baz")) {
        return ((Integer)arguments[0]) + 1;
      }
 else       if (method.getName().equals("bim")) {
        return ((Long)arguments[0]) - 1L;
      }
 else       if (method.getName().equals("boom")) {
        return ((String)arguments[0]).substring(1);
      }
 else {
        throw new IllegalArgumentException();
      }
    }
  }
);
  expect(foo.bar().equals("bam"));
  expect(foo.baz(42) == 43);
  expect(foo.bim(42L) == 41L);
  expect(foo.boom("hello").equals("ello"));
}
