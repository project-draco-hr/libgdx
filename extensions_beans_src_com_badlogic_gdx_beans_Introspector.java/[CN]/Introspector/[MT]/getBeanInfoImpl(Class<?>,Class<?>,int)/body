{
  BeanInfo explicitInfo=null;
  if (flags == USE_ALL_BEANINFO) {
    explicitInfo=getExplicitBeanInfo(beanClass);
  }
  StandardBeanInfo beanInfo=new StandardBeanInfo(beanClass,explicitInfo,stopClass);
  if (beanInfo.additionalBeanInfo != null) {
    for (int i=beanInfo.additionalBeanInfo.length - 1; i >= 0; i--) {
      BeanInfo info=beanInfo.additionalBeanInfo[i];
      beanInfo.mergeBeanInfo(info,true);
    }
  }
  Class<?> beanSuperClass=beanClass.getSuperclass();
  if (beanSuperClass != stopClass) {
    if (beanSuperClass == null)     throw new IntrospectionException("Stop class is not super class of bean class");
    int superflags=flags == IGNORE_IMMEDIATE_BEANINFO ? USE_ALL_BEANINFO : flags;
    BeanInfo superBeanInfo=getBeanInfoImpl(beanSuperClass,stopClass,superflags);
    if (superBeanInfo != null) {
      beanInfo.mergeBeanInfo(superBeanInfo,false);
    }
  }
  return beanInfo;
}
