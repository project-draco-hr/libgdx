{
  super(bounds);
  width=(int)bounds.get_Width();
  height=(int)bounds.get_Height();
  app.debug(tag,bounds.get_Width() + "x" + bounds.get_Height()+ ", "+ UIScreen.get_MainScreen().get_Scale());
  this.app=app;
  this.input=input;
  set_LayerRetainsBacking(false);
  set_ContentScaleFactor(1);
  set_MultipleTouchEnabled(true);
  set_AutoResize(false);
  set_LayerColorFormat(EAGLColorFormat.RGB565);
  set_ContextRenderingApi(EAGLRenderingAPI.wrap(EAGLRenderingAPI.OpenGLES2));
  bufferFormat=new BufferFormat(5,6,5,0,16,0,0,false);
  this.gl20=gl20;
  density=1f;
  if ((UIScreen.get_MainScreen().RespondsToSelector(new Selector("scale")))) {
    float scale=UIScreen.get_MainScreen().get_Scale();
    app.debug(tag,"Calculating density, UIScreen.mainScreen.scale: " + scale);
    if (scale == 2f)     density=2f;
  }
  int ppi;
  if (UIDevice.get_CurrentDevice().get_UserInterfaceIdiom().Value == UIUserInterfaceIdiom.Pad) {
    ppi=Math.round(density * 132);
  }
 else {
    ppi=Math.round(density * 163);
  }
  ppiX=ppi;
  ppiY=ppi;
  ppcX=ppiX / 2.54f;
  ppcY=ppcY / 2.54f;
  app.debug(tag,"Display: ppi=" + ppi + ", density="+ density);
  lastFrameTime=System.nanoTime();
  framesStart=lastFrameTime;
}
