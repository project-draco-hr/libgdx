{
  if (glfwInit() != GLFW_TRUE) {
    System.out.println("Couldn't initialize GLFW");
    System.exit(-1);
  }
  Lwjgl3ApplicationConfiguration config=new Lwjgl3ApplicationConfiguration();
  config.setWindowedMode(640,480);
  windowHandle=Lwjgl3Application.createGlfwWindow(config,0);
  GLFW.glfwShowWindow(windowHandle);
  if (windowHandle == 0) {
    throw new RuntimeException("Couldn't create window");
  }
  glfwSwapInterval(0);
  glfwSetMouseButtonCallback(windowHandle,callback);
  while (true) {
    if (runnable != null) {
      runnable.run();
      runnable=null;
    }
    if (glfwWindowShouldClose(windowHandle) == GLFW_TRUE) {
      glfwDestroyWindow(windowHandle);
      glfwTerminate();
      return;
    }
    glfwMakeContextCurrent(windowHandle);
    GL.createCapabilities();
    GL11.glViewport(0,0,640,480);
    GL11.glClear(GL11.GL_COLOR_BUFFER_BIT);
    GL11.glRotatef(0.1f,0,0,1);
    GL11.glBegin(GL11.GL_TRIANGLES);
    GL11.glVertex2f(-0.5f,-0.5f);
    GL11.glVertex2f(0.5f,-0.5f);
    GL11.glVertex2f(0,0.5f);
    GL11.glEnd();
    glfwSwapBuffers(windowHandle);
    glfwPollEvents();
  }
}
