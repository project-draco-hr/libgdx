{
  if (bcssChild.serviceRecords == null || bcssChild.serviceRecords.isEmpty()) {
    return;
  }
synchronized (bcssChild.child) {
    for (Iterator it=bcssChild.serviceRecords.iterator(); it.hasNext(); ) {
      ServiceRecord rec=(ServiceRecord)it.next();
      if (rec.serviceClass == serviceClass && rec.provider == serviceProvider && rec.revokedListener != null && !rec.isDelegate) {
        rec.revokedListener.serviceRevoked(new BeanContextServiceRevokedEvent(getBeanContextServicesPeer(),serviceClass,revokeCurrentServicesNow));
        rec.revokedListener=null;
      }
    }
  }
}
