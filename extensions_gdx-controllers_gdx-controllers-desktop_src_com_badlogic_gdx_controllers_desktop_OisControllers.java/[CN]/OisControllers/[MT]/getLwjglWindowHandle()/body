{
  if (System.getProperty("os.name").toLowerCase().contains("mac")) {
    return 0;
  }
  try {
    if (Gdx.app instanceof LwjglCanvas) {
      return (Long)invokeMethod(invokeMethod(SwingUtilities.windowForComponent(((LwjglCanvas)Gdx.app).getCanvas()),"getPeer"),"getHWnd");
    }
    Method getImplementation=Display.class.getDeclaredMethod("getImplementation",new Class[0]);
    getImplementation.setAccessible(true);
    Object display=getImplementation.invoke(null,(Object[])null);
    String fieldName=System.getProperty("os.name").toLowerCase().contains("windows") ? "hwnd" : "parent_window";
    Field field=display.getClass().getDeclaredField(fieldName);
    field.setAccessible(true);
    return (Long)field.get(display);
  }
 catch (  Exception ex) {
    throw new RuntimeException("Unable to get window handle.",ex);
  }
}
