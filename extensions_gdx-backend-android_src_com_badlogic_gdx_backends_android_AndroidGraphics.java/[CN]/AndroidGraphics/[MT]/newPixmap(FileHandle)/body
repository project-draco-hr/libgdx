{
  AndroidFileHandle aHandle=(AndroidFileHandle)file;
  Bitmap bitmap=null;
  if (aHandle.isAsset()) {
    InputStream in;
    try {
      in=aHandle.getAssetManager().open(aHandle.getFileName());
      bitmap=BitmapFactory.decodeStream(in,null,null);
      in.close();
    }
 catch (    IOException e) {
      throw new GdxRuntimeException("Couldn't open Pixmap from file '" + file + "'",e);
    }
  }
 else {
    bitmap=BitmapFactory.decodeFile(aHandle.getFileName());
  }
  if (bitmap == null)   throw new GdxRuntimeException("Couldn't open Pixmap from file '" + file + "'");
  if (!isPowerOfTwo(bitmap.getWidth()) || !isPowerOfTwo(bitmap.getHeight()))   throw new GdxRuntimeException("Dimensions have to be a power of two");
  return new AndroidPixmap(bitmap);
}
