{
  justTouched=false;
  if (Mouse.isCreated()) {
    int events=0;
    while (Mouse.next()) {
      events++;
      int x=Mouse.getEventX();
      int y=Gdx.graphics.getHeight() - Mouse.getEventY() - 1;
      int button=Mouse.getEventButton();
      TouchEvent event=usedTouchEvents.obtain();
      event.x=x;
      event.y=y;
      event.button=toGdxButton(button);
      event.pointer=0;
      event.timeStamp=Mouse.getEventNanoseconds();
      if (button == -1) {
        if (Mouse.getEventDWheel() != 0) {
          event.type=TouchEvent.TOUCH_SCROLLED;
          event.scrollAmount=(int)-Math.signum(Mouse.getEventDWheel());
        }
 else         if (pressedButtons.size > 0) {
          event.type=TouchEvent.TOUCH_DRAGGED;
        }
 else {
          event.type=TouchEvent.TOUCH_MOVED;
        }
      }
 else {
        if (Mouse.getEventButtonState()) {
          event.type=TouchEvent.TOUCH_DOWN;
          pressedButtons.add(event.button);
          justTouched=true;
        }
 else {
          event.type=TouchEvent.TOUCH_UP;
          pressedButtons.remove(event.button);
        }
      }
      touchEvents.add(event);
      mouseX=event.x;
      mouseY=event.y;
      deltaX=Mouse.getEventDX();
      deltaY=Mouse.getEventDY();
    }
    if (events == 0) {
      deltaX=0;
      deltaY=0;
    }
 else {
      Gdx.graphics.requestRendering();
    }
  }
}
