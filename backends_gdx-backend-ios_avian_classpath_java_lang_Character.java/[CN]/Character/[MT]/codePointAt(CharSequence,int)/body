{
  int length=sequence.length();
  if (offset < 0 || offset >= length) {
    throw new IndexOutOfBoundsException();
  }
  char high=sequence.charAt(offset);
  if (!isHighSurrogate(high) || offset >= length) {
    return high;
  }
  char low=sequence.charAt(offset + 1);
  if (!isLowSurrogate(low)) {
    return high;
  }
  return toCodePoint(high,low);
}
