{
  if (buffer.length > real.length) {
    throw new IllegalArgumentException("FFT.inverse: the passed array's length must equal FFT.timeSize().");
  }
  for (int i=0; i < timeSize; i++) {
    imag[i]*=-1;
  }
  bitReverseComplex();
  fft();
  for (int i=0; i < buffer.length; i++) {
    buffer[i]=real[i] / real.length;
  }
}
