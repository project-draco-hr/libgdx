{
  traceFunc("testTreeSet()");
  TreeSet<Item> items=new TreeSet<Item>(new Comparator<Item>(){
    public int compare(    Item i1,    Item i2){
      int r=i1.value() - i2.value();
      if (r == 0) {
        return i1.index() - i2.index();
      }
      return r;
    }
  }
);
  for (int iter=0; iter < ITERATION_COUNT; iter++) {
    for (int i=0; i < 1000; i++) {
      items.add(new Item(1));
    }
    for (int i=0; i < 500; i++) {
      items.add(new Item(4));
    }
    for (int i=0; i < 250; i++) {
      items.add(new Item(9));
    }
    expect(runningSum(items) == (1000 * 1 + 500 * 4 + 250 * 9));
    items.clear();
  }
}
