{
  float truncateWidth=targetWidth;
  int n=truncate.length();
  for (int i=0; i < n; i++)   truncateWidth-=fontData.getGlyph(truncate.charAt(i)).xadvance;
  while (run.width > truncateWidth) {
    widthIndex--;
    run.width-=run.xAdvances.get(widthIndex);
  }
  run.glyphs.truncate(widthIndex);
  run.xAdvances.truncate(widthIndex);
  for (int i=0; i < n; i++) {
    Glyph glyph=fontData.getGlyph(truncate.charAt(i));
    run.glyphs.add(glyph);
    run.xAdvances.add(glyph.xadvance);
    run.width+=glyph.xadvance;
  }
}
